2023-07-09 09:20:19.952 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 09:20:20.140 +02:00 [DBG] Hosting starting
2023-07-09 09:20:20.562 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 09:20:20.642 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 09:20:20.643 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 09:20:20.645 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 09:20:20.646 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 09:20:20.647 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 09:20:20.648 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 09:20:20.650 +02:00 [INF] Hosting environment: Development
2023-07-09 09:20:20.651 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 09:20:20.652 +02:00 [DBG] Hosting started
2023-07-09 09:20:39.914 +02:00 [DBG] Connection id "0HMS09JVRETF2" received FIN.
2023-07-09 09:20:39.922 +02:00 [DBG] Connection id "0HMS09JVRETF2" accepted.
2023-07-09 09:20:39.932 +02:00 [DBG] Connection id "0HMS09JVRETF2" started.
2023-07-09 09:20:39.934 +02:00 [DBG] Connection id "0HMS09JVRETF3" accepted.
2023-07-09 09:20:39.936 +02:00 [DBG] Connection id "0HMS09JVRETF3" started.
2023-07-09 09:20:39.951 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 09:20:40.018 +02:00 [DBG] Connection 0HMS09JVRETF3 established using the following protocol: "Tls13"
2023-07-09 09:20:40.068 +02:00 [DBG] Connection id "0HMS09JVRETF2" stopped.
2023-07-09 09:20:40.070 +02:00 [DBG] Connection id "0HMS09JVRETF2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 09:20:40.104 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities - -
2023-07-09 09:20:40.134 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 09:20:40.169 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 09:20:40.197 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-07-09 09:20:40.204 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-07-09 09:20:40.207 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 09:20:40.210 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 09:20:40.234 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDTO]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 09:20:40.237 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 09:20:40.238 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 09:20:40.240 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 09:20:40.241 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 09:20:40.243 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 09:20:40.245 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 09:20:40.445 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 09:20:40.468 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 09:20:41.226 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 09:20:41.275 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-07-09 09:20:41.557 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 09:20:41.603 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 09:20:41.716 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
System.ArgumentException: Format of the initialization string does not conform to specification starting at index 0.
   at System.Data.Common.DbConnectionOptions.GetKeyValuePair(String connectionString, Int32 currentPosition, StringBuilder buffer, Boolean useOdbcRules, String& keyname, String& keyvalue)
   at System.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
   at System.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms, Boolean useOdbcRules)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Microsoft.Data.Sqlite.SqliteConnectionFactory.GetPoolGroup(String connectionString)
   at Microsoft.Data.Sqlite.SqliteConnection.set_ConnectionString(String value)
   at Microsoft.EntityFrameworkCore.Sqlite.Storage.Internal.SqliteRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ArgumentException: Format of the initialization string does not conform to specification starting at index 0.
   at System.Data.Common.DbConnectionOptions.GetKeyValuePair(String connectionString, Int32 currentPosition, StringBuilder buffer, Boolean useOdbcRules, String& keyname, String& keyvalue)
   at System.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
   at System.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms, Boolean useOdbcRules)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Microsoft.Data.Sqlite.SqliteConnectionFactory.GetPoolGroup(String connectionString)
   at Microsoft.Data.Sqlite.SqliteConnection.set_ConnectionString(String value)
   at Microsoft.EntityFrameworkCore.Sqlite.Storage.Internal.SqliteRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-07-09 09:20:41.843 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1593.5322ms
2023-07-09 09:20:41.847 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 09:20:41.849 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Format of the initialization string does not conform to specification starting at index 0.
   at System.Data.Common.DbConnectionOptions.GetKeyValuePair(String connectionString, Int32 currentPosition, StringBuilder buffer, Boolean useOdbcRules, String& keyname, String& keyvalue)
   at System.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
   at System.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms, Boolean useOdbcRules)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Microsoft.Data.Sqlite.SqliteConnectionFactory.GetPoolGroup(String connectionString)
   at Microsoft.Data.Sqlite.SqliteConnection.set_ConnectionString(String value)
   at Microsoft.EntityFrameworkCore.Sqlite.Storage.Internal.SqliteRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCitiesAsync() in C:\education-and-training\CityInfo.API\Services\CityInfoRepository.cs:line 17
   at CityInfo.API.Controllers.CitiesController.GetCities() in C:\education-and-training\CityInfo.API\Controllers\CitiesController.cs:line 21
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-09 09:20:41.917 +02:00 [DBG] Connection id "0HMS09JVRETF3" completed keep alive response.
2023-07-09 09:20:41.924 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 09:20:41.931 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities - - - 500 - text/plain;+charset=utf-8 1830.1986ms
2023-07-09 09:21:52.422 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 09:21:52.556 +02:00 [DBG] Hosting starting
2023-07-09 09:21:52.724 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 09:21:52.789 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 09:21:52.791 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 09:21:52.792 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 09:21:52.793 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 09:21:52.794 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 09:21:52.795 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 09:21:52.796 +02:00 [INF] Hosting environment: Development
2023-07-09 09:21:52.797 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 09:21:52.797 +02:00 [DBG] Hosting started
2023-07-09 09:21:57.792 +02:00 [DBG] Connection id "0HMS09KN25KM7" received FIN.
2023-07-09 09:21:57.803 +02:00 [DBG] Connection id "0HMS09KN25KM7" accepted.
2023-07-09 09:21:57.806 +02:00 [DBG] Connection id "0HMS09KN25KM7" started.
2023-07-09 09:21:57.807 +02:00 [DBG] Connection id "0HMS09KN25KM8" accepted.
2023-07-09 09:21:57.809 +02:00 [DBG] Connection id "0HMS09KN25KM8" started.
2023-07-09 09:21:57.823 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 09:21:57.873 +02:00 [DBG] Connection 0HMS09KN25KM8 established using the following protocol: "Tls13"
2023-07-09 09:21:57.875 +02:00 [DBG] Connection id "0HMS09KN25KM7" stopped.
2023-07-09 09:21:57.878 +02:00 [DBG] Connection id "0HMS09KN25KM7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 09:21:57.913 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities - -
2023-07-09 09:21:57.937 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 09:21:57.971 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 09:21:57.997 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-07-09 09:21:58.002 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-07-09 09:21:58.005 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 09:21:58.007 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 09:21:58.031 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDTO]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 09:21:58.034 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 09:21:58.036 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 09:21:58.037 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 09:21:58.038 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 09:21:58.039 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 09:21:58.041 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 09:21:58.193 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 09:21:58.217 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 09:21:58.929 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 09:21:58.977 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-07-09 09:21:59.263 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 09:21:59.305 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 09:21:59.365 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
System.ArgumentException: Format of the initialization string does not conform to specification starting at index 0.
   at System.Data.Common.DbConnectionOptions.GetKeyValuePair(String connectionString, Int32 currentPosition, StringBuilder buffer, Boolean useOdbcRules, String& keyname, String& keyvalue)
   at System.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
   at System.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms, Boolean useOdbcRules)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Microsoft.Data.Sqlite.SqliteConnectionFactory.GetPoolGroup(String connectionString)
   at Microsoft.Data.Sqlite.SqliteConnection.set_ConnectionString(String value)
   at Microsoft.EntityFrameworkCore.Sqlite.Storage.Internal.SqliteRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ArgumentException: Format of the initialization string does not conform to specification starting at index 0.
   at System.Data.Common.DbConnectionOptions.GetKeyValuePair(String connectionString, Int32 currentPosition, StringBuilder buffer, Boolean useOdbcRules, String& keyname, String& keyvalue)
   at System.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
   at System.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms, Boolean useOdbcRules)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Microsoft.Data.Sqlite.SqliteConnectionFactory.GetPoolGroup(String connectionString)
   at Microsoft.Data.Sqlite.SqliteConnection.set_ConnectionString(String value)
   at Microsoft.EntityFrameworkCore.Sqlite.Storage.Internal.SqliteRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-07-09 09:21:59.468 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1423.6104ms
2023-07-09 09:21:59.472 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 09:21:59.474 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Format of the initialization string does not conform to specification starting at index 0.
   at System.Data.Common.DbConnectionOptions.GetKeyValuePair(String connectionString, Int32 currentPosition, StringBuilder buffer, Boolean useOdbcRules, String& keyname, String& keyvalue)
   at System.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
   at System.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms, Boolean useOdbcRules)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Microsoft.Data.Sqlite.SqliteConnectionFactory.GetPoolGroup(String connectionString)
   at Microsoft.Data.Sqlite.SqliteConnection.set_ConnectionString(String value)
   at Microsoft.EntityFrameworkCore.Sqlite.Storage.Internal.SqliteRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCitiesAsync() in C:\education-and-training\CityInfo.API\Services\CityInfoRepository.cs:line 17
   at CityInfo.API.Controllers.CitiesController.GetCities() in C:\education-and-training\CityInfo.API\Controllers\CitiesController.cs:line 21
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-09 09:21:59.523 +02:00 [DBG] Connection id "0HMS09KN25KM8" completed keep alive response.
2023-07-09 09:21:59.531 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 09:21:59.536 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities - - - 500 - text/plain;+charset=utf-8 1626.7612ms
2023-07-09 09:41:50.597 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 09:41:50.688 +02:00 [DBG] Hosting starting
2023-07-09 09:41:50.834 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 09:41:50.895 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 09:41:50.896 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 09:41:50.897 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 09:41:50.898 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 09:41:50.899 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 09:41:50.900 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 09:41:50.901 +02:00 [INF] Hosting environment: Development
2023-07-09 09:41:50.902 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 09:41:50.903 +02:00 [DBG] Hosting started
2023-07-09 09:41:59.295 +02:00 [DBG] Connection id "0HMS09VT4J7U2" received FIN.
2023-07-09 09:41:59.304 +02:00 [DBG] Connection id "0HMS09VT4J7U2" accepted.
2023-07-09 09:41:59.307 +02:00 [DBG] Connection id "0HMS09VT4J7U2" started.
2023-07-09 09:41:59.309 +02:00 [DBG] Connection id "0HMS09VT4J7U3" accepted.
2023-07-09 09:41:59.310 +02:00 [DBG] Connection id "0HMS09VT4J7U3" started.
2023-07-09 09:41:59.323 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 09:41:59.368 +02:00 [DBG] Connection id "0HMS09VT4J7U2" stopped.
2023-07-09 09:41:59.370 +02:00 [DBG] Connection id "0HMS09VT4J7U2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 09:41:59.370 +02:00 [DBG] Connection 0HMS09VT4J7U3 established using the following protocol: "Tls13"
2023-07-09 09:41:59.407 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities - -
2023-07-09 09:41:59.420 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 09:41:59.456 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 09:41:59.481 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-07-09 09:41:59.488 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-07-09 09:41:59.491 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 09:41:59.494 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 09:41:59.516 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDTO]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 09:41:59.520 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 09:41:59.521 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 09:41:59.522 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 09:41:59.524 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 09:41:59.526 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 09:41:59.527 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 09:41:59.655 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 09:41:59.802 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 09:42:00.507 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 09:42:00.554 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-07-09 09:42:00.831 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 09:42:00.875 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 09:42:00.936 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
System.ArgumentException: Format of the initialization string does not conform to specification starting at index 0.
   at System.Data.Common.DbConnectionOptions.GetKeyValuePair(String connectionString, Int32 currentPosition, StringBuilder buffer, Boolean useOdbcRules, String& keyname, String& keyvalue)
   at System.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
   at System.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms, Boolean useOdbcRules)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Microsoft.Data.Sqlite.SqliteConnectionFactory.GetPoolGroup(String connectionString)
   at Microsoft.Data.Sqlite.SqliteConnection.set_ConnectionString(String value)
   at Microsoft.EntityFrameworkCore.Sqlite.Storage.Internal.SqliteRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ArgumentException: Format of the initialization string does not conform to specification starting at index 0.
   at System.Data.Common.DbConnectionOptions.GetKeyValuePair(String connectionString, Int32 currentPosition, StringBuilder buffer, Boolean useOdbcRules, String& keyname, String& keyvalue)
   at System.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
   at System.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms, Boolean useOdbcRules)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Microsoft.Data.Sqlite.SqliteConnectionFactory.GetPoolGroup(String connectionString)
   at Microsoft.Data.Sqlite.SqliteConnection.set_ConnectionString(String value)
   at Microsoft.EntityFrameworkCore.Sqlite.Storage.Internal.SqliteRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-07-09 09:42:01.057 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1525.7537ms
2023-07-09 09:42:01.061 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 09:42:01.063 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Format of the initialization string does not conform to specification starting at index 0.
   at System.Data.Common.DbConnectionOptions.GetKeyValuePair(String connectionString, Int32 currentPosition, StringBuilder buffer, Boolean useOdbcRules, String& keyname, String& keyvalue)
   at System.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
   at System.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms, Boolean useOdbcRules)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Microsoft.Data.Sqlite.SqliteConnectionFactory.GetPoolGroup(String connectionString)
   at Microsoft.Data.Sqlite.SqliteConnection.set_ConnectionString(String value)
   at Microsoft.EntityFrameworkCore.Sqlite.Storage.Internal.SqliteRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCitiesAsync() in C:\education-and-training\CityInfo.API\Services\CityInfoRepository.cs:line 17
   at CityInfo.API.Controllers.CitiesController.GetCities() in C:\education-and-training\CityInfo.API\Controllers\CitiesController.cs:line 24
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-09 09:42:01.103 +02:00 [DBG] Connection id "0HMS09VT4J7U3" completed keep alive response.
2023-07-09 09:42:01.110 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 09:42:01.116 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities - - - 500 - text/plain;+charset=utf-8 1712.2976ms
2023-07-09 09:58:56.247 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 09:58:56.342 +02:00 [DBG] Hosting starting
2023-07-09 09:58:56.498 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 09:58:56.567 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 09:58:56.569 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 09:58:56.572 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 09:58:56.573 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 09:58:56.574 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 09:58:56.575 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 09:58:56.576 +02:00 [INF] Hosting environment: Development
2023-07-09 09:58:56.576 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 09:58:56.577 +02:00 [DBG] Hosting started
2023-07-09 09:59:03.256 +02:00 [DBG] Connection id "0HMS0A9E9R9F5" received FIN.
2023-07-09 09:59:03.266 +02:00 [DBG] Connection id "0HMS0A9E9R9F5" accepted.
2023-07-09 09:59:03.269 +02:00 [DBG] Connection id "0HMS0A9E9R9F5" started.
2023-07-09 09:59:03.271 +02:00 [DBG] Connection id "0HMS0A9E9R9F6" accepted.
2023-07-09 09:59:03.273 +02:00 [DBG] Connection id "0HMS0A9E9R9F6" started.
2023-07-09 09:59:03.286 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 09:59:03.328 +02:00 [DBG] Connection 0HMS0A9E9R9F6 established using the following protocol: "Tls13"
2023-07-09 09:59:03.330 +02:00 [DBG] Connection id "0HMS0A9E9R9F5" stopped.
2023-07-09 09:59:03.333 +02:00 [DBG] Connection id "0HMS0A9E9R9F5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 09:59:03.362 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities - -
2023-07-09 09:59:03.375 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 09:59:03.409 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 09:59:03.433 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-07-09 09:59:03.440 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-07-09 09:59:03.443 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 09:59:03.445 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 09:59:03.466 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDTO]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 09:59:03.469 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 09:59:03.470 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 09:59:03.473 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 09:59:03.474 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 09:59:03.475 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 09:59:03.477 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 09:59:03.605 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 09:59:03.742 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 09:59:04.438 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 09:59:04.484 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-07-09 09:59:04.763 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 09:59:04.805 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 09:59:04.880 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (71ms).
2023-07-09 09:59:04.891 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 09:59:04.909 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 09:59:04.921 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 09:59:04.943 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 09:59:04.963 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 09:59:04.983 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 09:59:04.987 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 09:59:04.995 +02:00 [DBG] A data reader was disposed.
2023-07-09 09:59:05.003 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 09:59:05.010 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 09:59:05.033 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 09:59:05.038 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 09:59:05.041 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 09:59:05.042 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 09:59:05.043 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 09:59:05.044 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 09:59:05.198 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1716.515ms
2023-07-09 09:59:05.203 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 09:59:05.206 +02:00 [DBG] Connection id "0HMS0A9E9R9F6" completed keep alive response.
2023-07-09 09:59:05.213 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 09:59:05.218 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities - - - 200 246 application/json;+charset=utf-8 1858.9272ms
2023-07-09 10:04:27.916 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 10:04:28.021 +02:00 [DBG] Hosting starting
2023-07-09 10:04:28.251 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 10:04:28.413 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 10:04:28.415 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 10:04:28.417 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 10:04:28.417 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 10:04:28.418 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 10:04:28.419 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 10:04:28.421 +02:00 [INF] Hosting environment: Development
2023-07-09 10:04:28.422 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 10:04:28.423 +02:00 [DBG] Hosting started
2023-07-09 10:04:36.197 +02:00 [DBG] Connection id "0HMS0ACHH0NH3" received FIN.
2023-07-09 10:04:36.206 +02:00 [DBG] Connection id "0HMS0ACHH0NH3" accepted.
2023-07-09 10:04:36.209 +02:00 [DBG] Connection id "0HMS0ACHH0NH3" started.
2023-07-09 10:04:36.210 +02:00 [DBG] Connection id "0HMS0ACHH0NH4" accepted.
2023-07-09 10:04:36.214 +02:00 [DBG] Connection id "0HMS0ACHH0NH4" started.
2023-07-09 10:04:36.230 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 10:04:36.269 +02:00 [DBG] Connection 0HMS0ACHH0NH4 established using the following protocol: "Tls13"
2023-07-09 10:04:36.315 +02:00 [DBG] Connection id "0HMS0ACHH0NH3" stopped.
2023-07-09 10:04:36.317 +02:00 [DBG] Connection id "0HMS0ACHH0NH3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 10:04:36.345 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1 - -
2023-07-09 10:04:36.358 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 10:04:36.394 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 10:04:36.420 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-07-09 10:04:36.427 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-07-09 10:04:36.431 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:04:36.433 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:04:36.465 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDTO]] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 10:04:36.467 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 10:04:36.468 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 10:04:36.470 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 10:04:36.472 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 10:04:36.473 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 10:04:36.474 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:04:36.656 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 10:04:36.799 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:04:36.804 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 10:04:36.806 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 10:04:36.808 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:04:36.810 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:04:36.811 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 10:04:36.814 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 10:04:36.816 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:04:36.817 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-07-09 10:04:36.818 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:04:36.819 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:04:36.820 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:04:36.821 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:04:36.822 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:04:37.549 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 10:04:37.622 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-07-09 10:04:37.900 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 10:04:37.955 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 10:04:38.080 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (121ms).
2023-07-09 10:04:38.094 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:04:38.114 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:04:38.129 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 10:04:38.157 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 10:04:38.177 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:04:38.205 +02:00 [DBG] A data reader was disposed.
2023-07-09 10:04:38.214 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:04:38.219 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:04:38.230 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 10:04:38.236 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 10:04:38.236 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 10:04:38.237 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 10:04:38.239 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 10:04:38.240 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDTO'.
2023-07-09 10:04:38.381 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1902.0124ms
2023-07-09 10:04:38.384 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:04:38.385 +02:00 [DBG] Connection id "0HMS0ACHH0NH4" completed keep alive response.
2023-07-09 10:04:38.390 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 10:04:38.396 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1 - - - 200 75 application/json;+charset=utf-8 2054.4824ms
2023-07-09 10:04:48.890 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - -
2023-07-09 10:04:48.893 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 10:04:48.896 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-07-09 10:04:48.897 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-07-09 10:04:48.899 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:04:48.899 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:04:48.900 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDTO]] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 10:04:48.902 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 10:04:48.903 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 10:04:48.904 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 10:04:48.906 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 10:04:48.907 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 10:04:48.908 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:04:48.917 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:04:48.922 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 10:04:48.924 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 10:04:48.926 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:04:48.927 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:04:48.928 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 10:04:48.930 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 10:04:48.931 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:04:48.933 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 10:04:48.934 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:04:48.935 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:04:48.936 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:04:48.937 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:04:48.957 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 10:04:48.975 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-07-09 10:04:48.993 +02:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-07-09 10:04:49.086 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 10:04:49.090 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 10:04:49.091 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 10:04:49.093 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:04:49.094 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:04:49.095 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 10:04:49.098 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 10:04:49.099 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:04:49.106 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:04:49.122 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:04:49.124 +02:00 [DBG] A data reader was disposed.
2023-07-09 10:04:49.124 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:04:49.125 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:04:49.205 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 296.224ms
2023-07-09 10:04:49.207 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:04:49.209 +02:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityDTO
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDTO
   at lambda_method98(Closure , Object , CityDTO , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\education-and-training\CityInfo.API\Controllers\CitiesController.cs:line 35
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-09 10:04:49.244 +02:00 [DBG] Connection id "0HMS0ACHH0NH4" completed keep alive response.
2023-07-09 10:04:49.247 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 10:04:49.248 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - - - 500 - text/plain;+charset=utf-8 357.5225ms
2023-07-09 10:24:36.742 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 10:24:36.832 +02:00 [DBG] Hosting starting
2023-07-09 10:24:36.978 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 10:24:37.040 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 10:24:37.043 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 10:24:37.044 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 10:24:37.045 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 10:24:37.046 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 10:24:37.047 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 10:24:37.048 +02:00 [INF] Hosting environment: Development
2023-07-09 10:24:37.049 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 10:24:37.050 +02:00 [DBG] Hosting started
2023-07-09 10:24:38.410 +02:00 [DBG] Connection id "0HMS0ANNQ6VQF" received FIN.
2023-07-09 10:24:38.422 +02:00 [DBG] Connection id "0HMS0ANNQ6VQF" accepted.
2023-07-09 10:24:38.431 +02:00 [DBG] Connection id "0HMS0ANNQ6VQF" started.
2023-07-09 10:24:38.433 +02:00 [DBG] Connection id "0HMS0ANNQ6VQG" accepted.
2023-07-09 10:24:38.434 +02:00 [DBG] Connection id "0HMS0ANNQ6VQG" started.
2023-07-09 10:24:38.447 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 10:24:38.488 +02:00 [DBG] Connection id "0HMS0ANNQ6VQF" stopped.
2023-07-09 10:24:38.489 +02:00 [DBG] Connection 0HMS0ANNQ6VQG established using the following protocol: "Tls13"
2023-07-09 10:24:38.490 +02:00 [DBG] Connection id "0HMS0ANNQ6VQF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 10:24:38.524 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest - -
2023-07-09 10:24:38.537 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 10:24:38.570 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 10:24:38.593 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-07-09 10:24:38.601 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-07-09 10:24:38.604 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 10:24:38.606 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 10:24:38.638 +02:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDTO]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 10:24:38.641 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 10:24:38.643 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 10:24:38.644 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 10:24:38.646 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 10:24:38.647 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 10:24:38.648 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 10:24:38.776 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 10:24:38.920 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 10:24:38.925 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 10:24:38.929 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 10:24:38.931 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 10:24:38.932 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 10:24:38.933 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 10:24:38.935 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 10:31:33.527 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 10:31:33.615 +02:00 [DBG] Hosting starting
2023-07-09 10:31:33.761 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 10:31:33.828 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 10:31:33.829 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 10:31:33.831 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 10:31:33.832 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 10:31:33.833 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 10:31:33.834 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 10:31:33.835 +02:00 [INF] Hosting environment: Development
2023-07-09 10:31:33.836 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 10:31:33.836 +02:00 [DBG] Hosting started
2023-07-09 10:31:51.726 +02:00 [DBG] Connection id "0HMS0AROUKF79" received FIN.
2023-07-09 10:31:51.734 +02:00 [DBG] Connection id "0HMS0AROUKF79" accepted.
2023-07-09 10:31:51.742 +02:00 [DBG] Connection id "0HMS0AROUKF79" started.
2023-07-09 10:31:51.744 +02:00 [DBG] Connection id "0HMS0AROUKF7A" accepted.
2023-07-09 10:31:51.746 +02:00 [DBG] Connection id "0HMS0AROUKF7A" started.
2023-07-09 10:31:51.758 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 10:31:51.802 +02:00 [DBG] Connection id "0HMS0AROUKF79" stopped.
2023-07-09 10:31:51.803 +02:00 [DBG] Connection 0HMS0AROUKF7A established using the following protocol: "Tls13"
2023-07-09 10:31:51.806 +02:00 [DBG] Connection id "0HMS0AROUKF79" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 10:31:51.842 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities?includePointsOfInterest=true - -
2023-07-09 10:31:51.855 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 10:31:51.890 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 10:31:51.914 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-07-09 10:31:51.920 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-07-09 10:31:51.923 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 10:31:51.925 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 10:31:51.947 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDTO]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 10:31:51.949 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 10:31:51.950 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 10:31:51.951 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 10:31:51.953 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 10:31:51.955 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 10:31:51.957 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:31:52.087 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 10:31:52.231 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:31:52.926 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 10:31:52.974 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-07-09 10:31:53.254 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 10:31:53.296 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 10:31:53.367 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (68ms).
2023-07-09 10:31:53.379 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:31:53.397 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:31:53.409 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 10:31:53.430 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 10:31:53.449 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:31:53.472 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:31:53.473 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:31:53.480 +02:00 [DBG] A data reader was disposed.
2023-07-09 10:31:53.488 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:31:53.494 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:31:53.517 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 10:31:53.522 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 10:31:53.523 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 10:31:53.523 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 10:31:53.525 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 10:31:53.526 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 10:31:53.654 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1693.1744ms
2023-07-09 10:31:53.659 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 10:31:53.659 +02:00 [DBG] Connection id "0HMS0AROUKF7A" completed keep alive response.
2023-07-09 10:31:53.665 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 10:31:53.670 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities?includePointsOfInterest=true - - - 200 246 application/json;+charset=utf-8 1832.1160ms
2023-07-09 10:34:09.062 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - -
2023-07-09 10:34:09.064 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 10:34:09.065 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-07-09 10:34:09.066 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-07-09 10:34:09.067 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:34:09.068 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:34:09.079 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Microsoft.AspNetCore.Mvc.IActionResult]] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 10:34:09.081 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 10:34:09.082 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 10:34:09.083 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 10:34:09.085 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 10:34:09.086 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 10:34:09.087 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:34:09.094 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:34:09.118 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 10:34:09.121 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 10:34:09.123 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:34:09.124 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:34:09.126 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 10:34:09.128 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 10:34:09.130 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:34:09.132 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 10:34:09.133 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:34:09.134 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:34:09.135 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:34:09.136 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:34:09.162 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 10:34:09.197 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-07-09 10:34:09.218 +02:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-07-09 10:34:09.329 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 10:34:09.343 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 10:34:09.346 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-09 10:34:09.349 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:34:09.350 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:34:09.354 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 10:34:09.363 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 10:34:09.365 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:34:09.373 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:34:09.390 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:34:09.394 +02:00 [DBG] A data reader was disposed.
2023-07-09 10:34:09.394 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:34:09.395 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:34:09.464 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 376.6275ms
2023-07-09 10:34:09.466 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:34:09.469 +02:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityDTO
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDTO
   at lambda_method107(Closure , Object , CityDTO , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\education-and-training\CityInfo.API\Controllers\CitiesController.cs:line 35
   at lambda_method67(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-09 10:34:09.501 +02:00 [DBG] Connection id "0HMS0AROUKF7A" completed keep alive response.
2023-07-09 10:34:09.503 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 10:34:09.504 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - - - 500 - text/plain;+charset=utf-8 442.1214ms
2023-07-09 10:34:36.405 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1 - -
2023-07-09 10:34:36.416 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 10:34:36.416 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-07-09 10:34:36.417 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-07-09 10:34:36.419 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:34:36.419 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:34:36.420 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Microsoft.AspNetCore.Mvc.IActionResult]] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 10:34:36.423 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 10:34:36.424 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 10:34:36.427 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 10:34:36.429 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 10:34:36.430 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 10:34:36.431 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:34:36.433 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:34:36.434 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 10:34:36.435 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 10:34:36.436 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:34:36.437 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:34:36.438 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 10:34:36.440 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 10:34:36.442 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:34:36.444 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-07-09 10:34:36.445 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:34:36.446 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:34:36.447 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:34:36.448 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:34:36.449 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:34:36.489 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 10:34:36.494 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-07-09 10:34:36.497 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 10:34:36.499 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 10:34:36.499 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 10:34:36.500 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:34:36.501 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:34:36.502 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 10:34:36.505 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 10:34:36.506 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:34:36.507 +02:00 [DBG] A data reader was disposed.
2023-07-09 10:34:36.508 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:34:36.510 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:34:36.547 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 116.4865ms
2023-07-09 10:34:36.550 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:34:36.551 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Invalid type parameter 'Microsoft.AspNetCore.Mvc.IActionResult' specified for 'ActionResult<T>'.
   at Microsoft.AspNetCore.Mvc.ActionResult`1..ctor(ActionResult result)
   at Microsoft.AspNetCore.Mvc.ActionResult`1.op_Implicit(ActionResult result)
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\education-and-training\CityInfo.API\Controllers\CitiesController.cs:line 37
   at lambda_method67(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-09 10:34:36.558 +02:00 [DBG] Connection id "0HMS0AROUKF7A" completed keep alive response.
2023-07-09 10:34:36.559 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 10:34:36.560 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1 - - - 500 - text/plain;+charset=utf-8 154.9243ms
2023-07-09 10:35:36.930 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 10:35:37.019 +02:00 [DBG] Hosting starting
2023-07-09 10:35:37.161 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 10:35:37.225 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 10:35:37.227 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 10:35:37.228 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 10:35:37.229 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 10:35:37.230 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 10:35:37.231 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 10:35:37.232 +02:00 [INF] Hosting environment: Development
2023-07-09 10:35:37.233 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 10:35:37.234 +02:00 [DBG] Hosting started
2023-07-09 10:35:38.963 +02:00 [DBG] Connection id "0HMS0ATSLNSR9" received FIN.
2023-07-09 10:35:38.972 +02:00 [DBG] Connection id "0HMS0ATSLNSR9" accepted.
2023-07-09 10:35:38.975 +02:00 [DBG] Connection id "0HMS0ATSLNSR9" started.
2023-07-09 10:35:38.977 +02:00 [DBG] Connection id "0HMS0ATSLNSRA" accepted.
2023-07-09 10:35:38.979 +02:00 [DBG] Connection id "0HMS0ATSLNSRA" started.
2023-07-09 10:35:38.991 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 10:35:39.037 +02:00 [DBG] Connection id "0HMS0ATSLNSR9" stopped.
2023-07-09 10:35:39.039 +02:00 [DBG] Connection 0HMS0ATSLNSRA established using the following protocol: "Tls13"
2023-07-09 10:35:39.040 +02:00 [DBG] Connection id "0HMS0ATSLNSR9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 10:35:39.073 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1 - -
2023-07-09 10:35:39.086 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 10:35:39.120 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 10:35:39.144 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-07-09 10:35:39.150 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-07-09 10:35:39.152 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:35:39.154 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:35:39.184 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 10:35:39.187 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 10:35:39.187 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 10:35:39.189 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 10:35:39.190 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 10:35:39.191 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 10:35:39.193 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:35:39.320 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 10:35:39.464 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:35:39.469 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 10:35:39.471 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 10:35:39.473 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:35:39.474 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:35:39.475 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 10:35:39.478 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 10:35:39.480 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:35:39.481 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-07-09 10:35:39.483 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:35:39.484 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:35:39.485 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:35:39.486 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:35:39.487 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:35:40.192 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 10:35:40.268 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-07-09 10:35:40.543 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 10:35:40.598 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 10:35:40.668 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (65ms).
2023-07-09 10:35:40.682 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:35:40.698 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:35:40.714 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 10:35:40.739 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 10:35:40.759 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:35:40.786 +02:00 [DBG] A data reader was disposed.
2023-07-09 10:35:40.794 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:35:40.800 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:35:40.810 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 10:35:40.816 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 10:35:40.816 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 10:35:40.817 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 10:35:40.818 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 10:35:40.819 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDTO'.
2023-07-09 10:35:40.939 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1742.409ms
2023-07-09 10:35:40.941 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:35:40.943 +02:00 [DBG] Connection id "0HMS0ATSLNSRA" completed keep alive response.
2023-07-09 10:35:40.951 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 10:35:40.958 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1 - - - 200 75 application/json;+charset=utf-8 1887.7942ms
2023-07-09 10:35:49.008 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - -
2023-07-09 10:35:49.010 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 10:35:49.013 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-07-09 10:35:49.014 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-07-09 10:35:49.015 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:35:49.016 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:35:49.016 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 10:35:49.018 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 10:35:49.019 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 10:35:49.020 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 10:35:49.021 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 10:35:49.022 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 10:35:49.025 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:35:49.032 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:35:49.038 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 10:35:49.040 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 10:35:49.042 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:35:49.043 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:35:49.044 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 10:35:49.046 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 10:35:49.047 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:35:49.048 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 10:35:49.050 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:35:49.051 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:35:49.052 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:35:49.053 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:35:49.058 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 10:35:49.082 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-07-09 10:35:49.100 +02:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-07-09 10:35:49.191 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 10:35:49.197 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 10:35:49.198 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 10:35:49.199 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:35:49.200 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:35:49.201 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 10:35:49.203 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 10:35:49.204 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:35:49.212 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:35:49.228 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:35:49.231 +02:00 [DBG] A data reader was disposed.
2023-07-09 10:35:49.232 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:35:49.233 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:35:49.304 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 279.6757ms
2023-07-09 10:35:49.308 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:35:49.309 +02:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityDTO
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDTO
   at lambda_method98(Closure , Object , CityDTO , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\education-and-training\CityInfo.API\Controllers\CitiesController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-09 10:35:49.346 +02:00 [DBG] Connection id "0HMS0ATSLNSRA" completed keep alive response.
2023-07-09 10:35:49.347 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 10:35:49.348 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - - - 500 - text/plain;+charset=utf-8 340.1574ms
2023-07-09 10:40:36.863 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 10:40:36.955 +02:00 [DBG] Hosting starting
2023-07-09 10:40:37.099 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 10:40:37.163 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 10:40:37.164 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 10:40:37.166 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 10:40:37.166 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 10:40:37.167 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 10:40:37.168 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 10:40:37.169 +02:00 [INF] Hosting environment: Development
2023-07-09 10:40:37.170 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 10:40:37.171 +02:00 [DBG] Hosting started
2023-07-09 10:40:42.715 +02:00 [DBG] Connection id "0HMS0B0N6HI76" received FIN.
2023-07-09 10:40:42.724 +02:00 [DBG] Connection id "0HMS0B0N6HI76" accepted.
2023-07-09 10:40:42.727 +02:00 [DBG] Connection id "0HMS0B0N6HI76" started.
2023-07-09 10:40:42.729 +02:00 [DBG] Connection id "0HMS0B0N6HI77" accepted.
2023-07-09 10:40:42.731 +02:00 [DBG] Connection id "0HMS0B0N6HI77" started.
2023-07-09 10:40:42.744 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 10:40:42.789 +02:00 [DBG] Connection id "0HMS0B0N6HI76" stopped.
2023-07-09 10:40:42.790 +02:00 [DBG] Connection 0HMS0B0N6HI77 established using the following protocol: "Tls13"
2023-07-09 10:40:42.791 +02:00 [DBG] Connection id "0HMS0B0N6HI76" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 10:40:42.825 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - -
2023-07-09 10:40:42.837 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 10:40:42.872 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 10:40:42.895 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-07-09 10:40:42.902 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-07-09 10:40:42.905 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:40:42.907 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:40:42.938 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 10:40:42.940 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 10:40:42.941 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 10:40:42.942 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 10:40:42.945 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 10:40:42.946 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 10:40:42.947 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:40:43.075 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 10:40:43.217 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:40:43.226 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 10:40:43.230 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 10:40:43.231 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:40:43.232 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:40:43.233 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 10:40:43.236 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 10:40:43.240 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:40:43.241 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 10:40:43.243 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:40:43.244 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:40:43.245 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:40:43.246 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:40:43.938 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 10:40:44.013 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-07-09 10:40:44.109 +02:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-07-09 10:40:44.401 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 10:40:44.453 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 10:40:44.527 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (71ms).
2023-07-09 10:40:44.542 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:40:44.559 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:40:44.574 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 10:40:44.600 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 10:40:44.621 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:40:44.648 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:40:44.664 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:40:44.673 +02:00 [DBG] A data reader was disposed.
2023-07-09 10:40:44.681 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:40:44.688 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:40:44.773 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1820.8545ms
2023-07-09 10:40:44.776 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:40:44.778 +02:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityDTO
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDTO
   at lambda_method90(Closure , Object , CityDTO , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\education-and-training\CityInfo.API\Controllers\CitiesController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-09 10:40:44.826 +02:00 [DBG] Connection id "0HMS0B0N6HI77" completed keep alive response.
2023-07-09 10:40:44.833 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 10:40:44.839 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - - - 500 - text/plain;+charset=utf-8 2017.3279ms
2023-07-09 10:43:10.329 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1 - -
2023-07-09 10:43:10.331 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 10:43:10.332 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-07-09 10:43:10.333 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-07-09 10:43:10.334 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:43:10.335 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:43:10.336 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 10:43:10.338 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 10:43:10.340 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 10:43:10.341 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 10:43:10.342 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 10:43:10.343 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 10:43:10.345 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:43:10.352 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:43:10.364 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 10:43:10.366 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 10:43:10.367 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:43:10.368 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:43:10.369 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 10:43:10.370 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 10:43:10.371 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:43:10.372 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-07-09 10:43:10.374 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:43:10.375 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:43:10.376 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:43:10.377 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:43:10.378 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:43:10.396 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 10:43:10.423 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-07-09 10:43:10.428 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 10:43:10.430 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 10:43:10.432 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 10:43:10.432 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:43:10.433 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:43:10.434 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 10:43:10.436 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 10:43:10.438 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:43:10.441 +02:00 [DBG] A data reader was disposed.
2023-07-09 10:43:10.441 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:43:10.443 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:43:10.448 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 10:43:10.453 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 10:43:10.456 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 10:43:10.457 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 10:43:10.458 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 10:43:10.459 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDTO'.
2023-07-09 10:43:10.575 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 230.0773ms
2023-07-09 10:43:10.578 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:43:10.579 +02:00 [DBG] Connection id "0HMS0B0N6HI77" completed keep alive response.
2023-07-09 10:43:10.581 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 10:43:10.582 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1 - - - 200 75 application/json;+charset=utf-8 253.2392ms
2023-07-09 10:43:19.776 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - -
2023-07-09 10:43:19.778 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 10:43:19.780 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-07-09 10:43:19.781 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-07-09 10:43:19.783 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:43:19.784 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:43:19.785 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 10:43:19.787 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 10:43:19.789 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 10:43:19.791 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 10:43:19.794 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 10:43:19.796 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 10:43:19.797 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:43:19.800 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:43:19.801 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 10:43:19.802 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 10:43:19.803 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:43:19.804 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:43:19.805 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 10:43:19.807 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 10:43:19.808 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:43:19.809 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 10:43:19.810 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:43:19.811 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:43:19.812 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:43:19.813 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:43:19.852 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 10:43:19.859 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 10:43:19.860 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 10:43:19.862 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:43:19.863 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:43:19.864 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 10:43:19.866 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 10:43:19.868 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:43:19.869 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:43:19.870 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:43:19.871 +02:00 [DBG] A data reader was disposed.
2023-07-09 10:43:19.871 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:43:19.873 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:43:19.913 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 116.2209ms
2023-07-09 10:43:19.915 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:43:19.917 +02:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityDTO
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDTO
   at lambda_method90(Closure , Object , CityDTO , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\education-and-training\CityInfo.API\Controllers\CitiesController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-09 10:43:19.925 +02:00 [DBG] Connection id "0HMS0B0N6HI77" completed keep alive response.
2023-07-09 10:43:19.926 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 10:43:19.927 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - - - 500 - text/plain;+charset=utf-8 150.8495ms
2023-07-09 10:57:28.703 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 10:57:28.794 +02:00 [DBG] Hosting starting
2023-07-09 10:57:28.942 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 10:57:28.991 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 10:57:28.992 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 10:57:28.993 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 10:57:28.995 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 10:57:28.996 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 10:57:28.997 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 10:57:28.998 +02:00 [INF] Hosting environment: Development
2023-07-09 10:57:28.999 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 10:57:29.000 +02:00 [DBG] Hosting started
2023-07-09 10:57:30.406 +02:00 [DBG] Connection id "0HMS0BA3GKGBF" received FIN.
2023-07-09 10:57:30.415 +02:00 [DBG] Connection id "0HMS0BA3GKGBF" accepted.
2023-07-09 10:57:30.418 +02:00 [DBG] Connection id "0HMS0BA3GKGBF" started.
2023-07-09 10:57:30.421 +02:00 [DBG] Connection id "0HMS0BA3GKGBG" accepted.
2023-07-09 10:57:30.423 +02:00 [DBG] Connection id "0HMS0BA3GKGBG" started.
2023-07-09 10:57:30.436 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 10:57:30.483 +02:00 [DBG] Connection id "0HMS0BA3GKGBF" stopped.
2023-07-09 10:57:30.484 +02:00 [DBG] Connection 0HMS0BA3GKGBG established using the following protocol: "Tls13"
2023-07-09 10:57:30.485 +02:00 [DBG] Connection id "0HMS0BA3GKGBF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 10:57:30.520 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - -
2023-07-09 10:57:30.532 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 10:57:30.567 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 10:57:30.591 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-07-09 10:57:30.597 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-07-09 10:57:30.600 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:57:30.603 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:57:30.634 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 10:57:30.637 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 10:57:30.638 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 10:57:30.640 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 10:57:30.641 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 10:57:30.642 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 10:57:30.643 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:57:30.773 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 10:57:30.925 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 10:57:30.933 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 10:57:30.935 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 10:57:30.937 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:57:30.938 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 10:57:30.939 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 10:57:30.941 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 10:57:30.943 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:57:30.945 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 10:57:30.947 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:57:30.947 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:57:30.948 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 10:57:30.949 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 10:57:31.631 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 10:57:31.701 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-07-09 10:57:31.794 +02:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-07-09 10:57:32.080 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 10:57:32.131 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 10:57:32.198 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (63ms).
2023-07-09 10:57:32.213 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:57:32.230 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:57:32.246 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 10:57:32.272 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 10:57:32.291 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:57:32.318 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:57:32.334 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 10:57:32.344 +02:00 [DBG] A data reader was disposed.
2023-07-09 10:57:32.355 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 10:57:32.364 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 10:57:32.380 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 10:57:32.386 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 10:57:32.387 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 10:57:32.388 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 10:57:32.390 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 10:57:32.391 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-07-09 10:57:32.530 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1882.917ms
2023-07-09 10:57:32.535 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 10:57:32.538 +02:00 [DBG] Connection id "0HMS0BA3GKGBG" completed keep alive response.
2023-07-09 10:57:32.545 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 10:57:32.551 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - - - 200 331 application/json;+charset=utf-8 2034.9585ms
2023-07-09 13:37:13.728 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 13:37:13.844 +02:00 [DBG] Hosting starting
2023-07-09 13:37:14.080 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 13:37:14.165 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 13:37:14.167 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 13:37:14.168 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 13:37:14.169 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 13:37:14.170 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 13:37:14.171 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 13:37:14.172 +02:00 [INF] Hosting environment: Development
2023-07-09 13:37:14.172 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 13:37:14.173 +02:00 [DBG] Hosting started
2023-07-09 13:38:28.623 +02:00 [DBG] Connection id "0HMS0E41SIC9A" received FIN.
2023-07-09 13:38:28.646 +02:00 [DBG] Connection id "0HMS0E41SIC9A" accepted.
2023-07-09 13:38:28.654 +02:00 [DBG] Connection id "0HMS0E41SIC9A" started.
2023-07-09 13:38:28.656 +02:00 [DBG] Connection id "0HMS0E41SIC9B" accepted.
2023-07-09 13:38:28.659 +02:00 [DBG] Connection id "0HMS0E41SIC9B" started.
2023-07-09 13:38:28.679 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 13:38:28.733 +02:00 [DBG] Connection 0HMS0E41SIC9B established using the following protocol: "Tls13"
2023-07-09 13:38:28.761 +02:00 [DBG] Connection id "0HMS0E41SIC9A" stopped.
2023-07-09 13:38:28.764 +02:00 [DBG] Connection id "0HMS0E41SIC9A" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 13:38:28.790 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - -
2023-07-09 13:38:28.803 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 13:38:28.836 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 13:38:28.859 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-07-09 13:38:28.865 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-07-09 13:38:28.869 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 13:38:28.872 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 13:38:28.901 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 13:38:28.904 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 13:38:28.905 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 13:38:28.906 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 13:38:28.907 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 13:38:28.908 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 13:38:28.910 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 13:38:29.082 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 13:38:29.238 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 13:38:29.246 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 13:38:29.249 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 13:38:29.250 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 13:38:29.252 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 13:38:29.254 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 13:38:29.256 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 13:38:29.258 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 13:38:29.260 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 13:38:29.261 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:38:29.262 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:38:29.263 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 13:38:29.264 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:38:29.952 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 13:38:30.021 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-07-09 13:38:30.111 +02:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-07-09 13:38:30.386 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 13:38:30.435 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 13:38:30.551 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (111ms).
2023-07-09 13:38:30.564 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:38:30.583 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:38:30.598 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 13:38:30.626 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 13:38:30.646 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:38:30.674 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:38:30.691 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:38:30.699 +02:00 [DBG] A data reader was disposed.
2023-07-09 13:38:30.708 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:38:30.714 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:38:30.730 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 13:38:30.737 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 13:38:30.738 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 13:38:30.739 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 13:38:30.741 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 13:38:30.742 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-07-09 13:38:30.888 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1974.1324ms
2023-07-09 13:38:30.891 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 13:38:30.894 +02:00 [DBG] Connection id "0HMS0E41SIC9B" completed keep alive response.
2023-07-09 13:38:30.900 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 13:38:30.906 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - - - 200 331 application/json;+charset=utf-8 2118.6753ms
2023-07-09 13:38:44.895 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1 - -
2023-07-09 13:38:44.897 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 13:38:44.899 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-07-09 13:38:44.900 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-07-09 13:38:44.902 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 13:38:44.903 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 13:38:44.904 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 13:38:44.905 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 13:38:44.907 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 13:38:44.908 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 13:38:44.910 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 13:38:44.911 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 13:38:44.912 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 13:38:44.920 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 13:38:44.931 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 13:38:44.932 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 13:38:44.935 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 13:38:44.937 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 13:38:44.938 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 13:38:44.938 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 13:38:44.939 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 13:38:44.940 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-07-09 13:38:44.942 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:38:44.943 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:38:44.944 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:38:44.945 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 13:38:44.946 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:38:44.989 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 13:38:45.005 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-07-09 13:38:45.008 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 13:38:45.009 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 13:38:45.010 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 13:38:45.011 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:38:45.012 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:38:45.013 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 13:38:45.015 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 13:38:45.017 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:38:45.019 +02:00 [DBG] A data reader was disposed.
2023-07-09 13:38:45.019 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:38:45.020 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:38:45.024 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 13:38:45.027 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 13:38:45.028 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 13:38:45.029 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 13:38:45.030 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 13:38:45.031 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDTO'.
2023-07-09 13:38:45.033 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 121.1134ms
2023-07-09 13:38:45.036 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 13:38:45.037 +02:00 [DBG] Connection id "0HMS0E41SIC9B" completed keep alive response.
2023-07-09 13:38:45.038 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 13:38:45.039 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1 - - - 200 75 application/json;+charset=utf-8 143.5689ms
2023-07-09 13:38:54.510 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities - -
2023-07-09 13:38:54.515 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 13:38:54.517 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-07-09 13:38:54.518 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-07-09 13:38:54.520 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 13:38:54.520 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 13:38:54.523 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDTO]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 13:38:54.525 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 13:38:54.526 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 13:38:54.527 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 13:38:54.529 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 13:38:54.531 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 13:38:54.532 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 13:38:54.534 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 13:38:54.574 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 13:38:54.582 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-07-09 13:38:54.587 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 13:38:54.589 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 13:38:54.591 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 13:38:54.592 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:38:54.593 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:38:54.594 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 13:38:54.595 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 13:38:54.598 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:38:54.599 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:38:54.600 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:38:54.602 +02:00 [DBG] A data reader was disposed.
2023-07-09 13:38:54.603 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:38:54.604 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:38:54.612 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 13:38:54.615 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 13:38:54.616 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 13:38:54.617 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 13:38:54.618 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 13:38:54.621 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 13:38:54.623 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 90.8614ms
2023-07-09 13:38:54.624 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 13:38:54.625 +02:00 [DBG] Connection id "0HMS0E41SIC9B" completed keep alive response.
2023-07-09 13:38:54.626 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 13:38:54.627 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities - - - 200 246 application/json;+charset=utf-8 117.5840ms
2023-07-09 13:45:38.148 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 13:45:38.241 +02:00 [DBG] Hosting starting
2023-07-09 13:45:38.383 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 13:45:38.437 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 13:45:38.438 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 13:45:38.439 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 13:45:38.440 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 13:45:38.441 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 13:45:38.442 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 13:45:38.443 +02:00 [INF] Hosting environment: Development
2023-07-09 13:45:38.444 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 13:45:38.445 +02:00 [DBG] Hosting started
2023-07-09 13:45:42.771 +02:00 [DBG] Connection id "0HMS0E838TN1J" received FIN.
2023-07-09 13:45:42.780 +02:00 [DBG] Connection id "0HMS0E838TN1J" accepted.
2023-07-09 13:45:42.783 +02:00 [DBG] Connection id "0HMS0E838TN1J" started.
2023-07-09 13:45:42.784 +02:00 [DBG] Connection id "0HMS0E838TN1K" accepted.
2023-07-09 13:45:42.786 +02:00 [DBG] Connection id "0HMS0E838TN1K" started.
2023-07-09 13:45:42.799 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 13:45:42.853 +02:00 [DBG] Connection id "0HMS0E838TN1J" stopped.
2023-07-09 13:45:42.854 +02:00 [DBG] Connection 0HMS0E838TN1K established using the following protocol: "Tls13"
2023-07-09 13:45:42.856 +02:00 [DBG] Connection id "0HMS0E838TN1J" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 13:45:42.890 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities - -
2023-07-09 13:45:42.902 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 13:45:42.937 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 13:45:42.961 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-07-09 13:45:42.968 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-07-09 13:45:42.971 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 13:45:42.974 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 13:45:43.004 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDTO]]] GetCities(Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 13:45:43.008 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 13:45:43.009 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 13:45:43.010 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 13:45:43.011 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 13:45:43.012 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 13:45:43.013 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 13:45:43.139 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 13:45:43.294 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 13:45:43.300 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 13:45:43.302 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-07-09 13:45:43.304 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:45:43.305 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:45:43.307 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:45:43.308 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 13:45:43.310 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:45:44.018 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 13:45:44.065 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-07-09 13:45:44.337 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 13:45:44.380 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 13:45:44.449 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (66ms).
2023-07-09 13:45:44.461 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:45:44.478 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:45:44.490 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 13:45:44.512 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 13:45:44.531 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:45:44.551 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:45:44.554 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:45:44.561 +02:00 [DBG] A data reader was disposed.
2023-07-09 13:45:44.568 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:45:44.575 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:45:44.593 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 13:45:44.599 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 13:45:44.600 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 13:45:44.600 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 13:45:44.601 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 13:45:44.602 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 13:45:44.729 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1710.8898ms
2023-07-09 13:45:44.732 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 13:45:44.734 +02:00 [DBG] Connection id "0HMS0E838TN1K" completed keep alive response.
2023-07-09 13:45:44.740 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 13:45:44.748 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities - - - 200 246 application/json;+charset=utf-8 1861.5991ms
2023-07-09 13:45:53.049 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities?includePointsOfInterest=true - -
2023-07-09 13:45:53.052 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 13:45:53.053 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-07-09 13:45:53.054 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-07-09 13:45:53.055 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 13:45:53.056 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 13:45:53.058 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDTO]]] GetCities(Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 13:45:53.060 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 13:45:53.061 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 13:45:53.062 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 13:45:53.063 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 13:45:53.064 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 13:45:53.067 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 13:45:53.074 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 13:45:53.080 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 13:45:53.083 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 13:45:53.085 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:45:53.086 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:45:53.087 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 13:45:53.088 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:45:53.092 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 13:45:53.107 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .OrderBy(c => c.Name)'
2023-07-09 13:45:53.124 +02:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-07-09 13:45:53.220 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
            3 -> 3
        SELECT c.Id, c.Description, c.Name, p.Id, p.CityId, p.Description, p.Name
        FROM Cities AS c
        LEFT JOIN PointOfInterests AS p ON c.Id == p.CityId
        ORDER BY c.Name ASC, c.Id ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 13:45:53.228 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 13:45:53.229 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 13:45:53.230 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:45:53.231 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:45:53.232 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "Cities" AS "c"
LEFT JOIN "PointOfInterests" AS "p" ON "c"."Id" = "p"."CityId"
ORDER BY "c"."Name", "c"."Id"
2023-07-09 13:45:53.233 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "Cities" AS "c"
LEFT JOIN "PointOfInterests" AS "p" ON "c"."Id" = "p"."CityId"
ORDER BY "c"."Name", "c"."Id"
2023-07-09 13:45:53.236 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:45:53.241 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:45:53.245 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:45:53.259 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:45:53.261 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:45:53.265 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:45:53.266 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:45:53.267 +02:00 [DBG] A data reader was disposed.
2023-07-09 13:45:53.267 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:45:53.268 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:45:53.269 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 13:45:53.271 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 13:45:53.272 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 13:45:53.272 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 13:45:53.274 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 13:45:53.275 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 13:45:53.276 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 209.413ms
2023-07-09 13:45:53.278 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 13:45:53.279 +02:00 [DBG] Connection id "0HMS0E838TN1K" completed keep alive response.
2023-07-09 13:45:53.281 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 13:45:53.282 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities?includePointsOfInterest=true - - - 200 246 application/json;+charset=utf-8 232.6964ms
2023-07-09 13:47:51.273 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 13:47:51.367 +02:00 [DBG] Hosting starting
2023-07-09 13:47:51.510 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 13:47:51.626 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 13:47:51.628 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 13:47:51.629 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 13:47:51.630 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 13:47:51.631 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 13:47:51.632 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 13:47:51.633 +02:00 [INF] Hosting environment: Development
2023-07-09 13:47:51.634 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 13:47:51.635 +02:00 [DBG] Hosting started
2023-07-09 13:47:53.753 +02:00 [DBG] Connection id "0HMS0E9AA2F37" received FIN.
2023-07-09 13:47:53.767 +02:00 [DBG] Connection id "0HMS0E9AA2F37" accepted.
2023-07-09 13:47:53.771 +02:00 [DBG] Connection id "0HMS0E9AA2F37" started.
2023-07-09 13:47:53.773 +02:00 [DBG] Connection id "0HMS0E9AA2F38" accepted.
2023-07-09 13:47:53.775 +02:00 [DBG] Connection id "0HMS0E9AA2F38" started.
2023-07-09 13:47:53.790 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 13:47:53.834 +02:00 [DBG] Connection 0HMS0E9AA2F38 established using the following protocol: "Tls13"
2023-07-09 13:47:53.835 +02:00 [DBG] Connection id "0HMS0E9AA2F37" stopped.
2023-07-09 13:47:53.839 +02:00 [DBG] Connection id "0HMS0E9AA2F37" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 13:47:53.868 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities?includePointsOfInterest=true - -
2023-07-09 13:47:53.880 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 13:47:53.916 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 13:47:53.938 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-07-09 13:47:53.944 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-07-09 13:47:53.948 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 13:47:53.950 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 13:47:53.979 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDTO]]] GetCities(Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 13:47:53.983 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 13:47:53.984 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 13:47:53.985 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 13:47:53.986 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 13:47:53.987 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 13:47:53.989 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 13:47:54.182 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 13:47:54.336 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 13:47:54.344 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 13:47:54.349 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 13:47:54.350 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:47:54.351 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:47:54.352 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 13:47:54.354 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:47:55.040 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 13:47:55.091 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .OrderBy(c => c.Name)'
2023-07-09 13:47:55.201 +02:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-07-09 13:47:55.469 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
            3 -> 3
        SELECT c.Id, c.Description, c.Name, p.Id, p.CityId, p.Description, p.Name
        FROM Cities AS c
        LEFT JOIN PointOfInterests AS p ON c.Id == p.CityId
        ORDER BY c.Name ASC, c.Id ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 13:47:55.515 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 13:47:55.589 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (71ms).
2023-07-09 13:47:55.601 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:47:55.618 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:47:55.629 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "Cities" AS "c"
LEFT JOIN "PointOfInterests" AS "p" ON "c"."Id" = "p"."CityId"
ORDER BY "c"."Name", "c"."Id"
2023-07-09 13:47:55.657 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "Cities" AS "c"
LEFT JOIN "PointOfInterests" AS "p" ON "c"."Id" = "p"."CityId"
ORDER BY "c"."Name", "c"."Id"
2023-07-09 13:47:55.676 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:47:55.703 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:47:55.707 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:47:55.722 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:47:55.724 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:47:55.728 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:47:55.729 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:47:55.737 +02:00 [DBG] A data reader was disposed.
2023-07-09 13:47:55.745 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:47:55.752 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:47:55.770 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 13:47:55.774 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 13:47:55.775 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 13:47:55.775 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 13:47:55.776 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 13:47:55.778 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 13:47:55.908 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1914.7793ms
2023-07-09 13:47:55.911 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 13:47:55.912 +02:00 [DBG] Connection id "0HMS0E9AA2F38" completed keep alive response.
2023-07-09 13:47:55.920 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 13:47:55.926 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities?includePointsOfInterest=true - - - 200 787 application/json;+charset=utf-8 2061.7820ms
2023-07-09 13:48:21.688 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities - -
2023-07-09 13:48:21.690 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 13:48:21.691 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-07-09 13:48:21.692 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-07-09 13:48:21.693 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 13:48:21.694 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 13:48:21.696 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDTO]]] GetCities(Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 13:48:21.698 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 13:48:21.699 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 13:48:21.700 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 13:48:21.702 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 13:48:21.703 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 13:48:21.704 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 13:48:21.712 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 13:48:21.805 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 13:48:21.806 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-07-09 13:48:21.808 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:48:21.809 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:48:21.810 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:48:21.811 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 13:48:21.812 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 13:48:21.824 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 13:48:21.841 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-07-09 13:48:21.844 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 13:48:21.846 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 13:48:21.847 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 13:48:21.849 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:48:21.850 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:48:21.851 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 13:48:21.852 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 13:48:21.854 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:48:21.854 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:48:21.855 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:48:21.856 +02:00 [DBG] A data reader was disposed.
2023-07-09 13:48:21.857 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:48:21.858 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:48:21.864 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 13:48:21.868 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 13:48:21.868 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 13:48:21.869 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 13:48:21.869 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 13:48:21.870 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 13:48:21.873 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 168.8895ms
2023-07-09 13:48:21.874 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 13:48:21.875 +02:00 [DBG] Connection id "0HMS0E9AA2F38" completed keep alive response.
2023-07-09 13:48:21.876 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 13:48:21.877 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities - - - 200 246 application/json;+charset=utf-8 189.1522ms
2023-07-09 13:51:29.548 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 13:51:29.640 +02:00 [DBG] Hosting starting
2023-07-09 13:51:29.789 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 13:51:29.855 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 13:51:29.857 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 13:51:29.858 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 13:51:29.859 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 13:51:29.860 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 13:51:29.861 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 13:51:29.862 +02:00 [INF] Hosting environment: Development
2023-07-09 13:51:29.862 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 13:51:29.863 +02:00 [DBG] Hosting started
2023-07-09 13:51:39.998 +02:00 [DBG] Connection id "0HMS0EBDNMNP8" received FIN.
2023-07-09 13:51:40.009 +02:00 [DBG] Connection id "0HMS0EBDNMNP8" accepted.
2023-07-09 13:51:40.014 +02:00 [DBG] Connection id "0HMS0EBDNMNP8" started.
2023-07-09 13:51:40.016 +02:00 [DBG] Connection id "0HMS0EBDNMNP9" accepted.
2023-07-09 13:51:40.019 +02:00 [DBG] Connection id "0HMS0EBDNMNP9" started.
2023-07-09 13:51:40.030 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 13:51:40.077 +02:00 [DBG] Connection id "0HMS0EBDNMNP8" stopped.
2023-07-09 13:51:40.077 +02:00 [DBG] Connection 0HMS0EBDNMNP9 established using the following protocol: "Tls13"
2023-07-09 13:51:40.079 +02:00 [DBG] Connection id "0HMS0EBDNMNP8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 13:51:40.114 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest - -
2023-07-09 13:51:40.127 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 13:51:40.162 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 13:51:40.186 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-07-09 13:51:40.192 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-07-09 13:51:40.195 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 13:51:40.197 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 13:51:40.228 +02:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDTO]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 13:51:40.231 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 13:51:40.232 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 13:51:40.233 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 13:51:40.236 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 13:51:40.238 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 13:51:40.240 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 13:51:40.370 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 13:51:40.526 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 13:51:40.532 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 13:51:40.534 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 13:51:40.537 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 13:51:40.538 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 13:51:40.539 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 13:51:40.541 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 13:57:58.057 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 13:57:58.148 +02:00 [DBG] Hosting starting
2023-07-09 13:57:58.289 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 13:57:58.351 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 13:57:58.361 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 13:57:58.362 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 13:57:58.364 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 13:57:58.365 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 13:57:58.366 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 13:57:58.367 +02:00 [INF] Hosting environment: Development
2023-07-09 13:57:58.367 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 13:57:58.368 +02:00 [DBG] Hosting started
2023-07-09 13:58:00.915 +02:00 [DBG] Connection id "0HMS0EEV8DHHA" received FIN.
2023-07-09 13:58:00.924 +02:00 [DBG] Connection id "0HMS0EEV8DHHA" accepted.
2023-07-09 13:58:00.928 +02:00 [DBG] Connection id "0HMS0EEV8DHHA" started.
2023-07-09 13:58:00.929 +02:00 [DBG] Connection id "0HMS0EEV8DHHB" accepted.
2023-07-09 13:58:00.931 +02:00 [DBG] Connection id "0HMS0EEV8DHHB" started.
2023-07-09 13:58:00.943 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 13:58:00.986 +02:00 [DBG] Connection id "0HMS0EEV8DHHA" stopped.
2023-07-09 13:58:00.988 +02:00 [DBG] Connection 0HMS0EEV8DHHB established using the following protocol: "Tls13"
2023-07-09 13:58:00.991 +02:00 [DBG] Connection id "0HMS0EEV8DHHA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 13:58:01.024 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest - -
2023-07-09 13:58:01.037 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 13:58:01.071 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 13:58:01.095 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-07-09 13:58:01.102 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-07-09 13:58:01.106 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 13:58:01.109 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 13:58:01.140 +02:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDTO]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 13:58:01.144 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 13:58:01.145 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 13:58:01.146 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 13:58:01.148 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 13:58:01.149 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 13:58:01.150 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 13:58:01.282 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 13:58:01.434 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 13:58:01.440 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 13:58:01.443 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 13:58:01.445 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 13:58:01.446 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 13:58:01.447 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 13:58:01.449 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 13:58:02.161 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 13:58:02.208 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-07-09 13:58:02.453 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 13:58:02.507 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 13:58:02.574 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (62ms).
2023-07-09 13:58:02.589 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:58:02.606 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:58:02.621 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 13:58:02.651 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 13:58:02.662 +02:00 [DBG] A data reader was disposed.
2023-07-09 13:58:02.670 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:58:02.677 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:58:02.685 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-07-09 13:58:02.718 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 13:58:02.727 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 13:58:02.731 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-09 13:58:02.732 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:58:02.734 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:58:02.736 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-07-09 13:58:02.738 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-07-09 13:58:02.757 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:58:02.780 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:58:02.782 +02:00 [DBG] A data reader was disposed.
2023-07-09 13:58:02.783 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:58:02.784 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:58:02.800 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 13:58:02.807 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 13:58:02.809 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 13:58:02.810 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 13:58:02.811 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 13:58:02.812 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 13:58:02.938 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 1783.3307ms
2023-07-09 13:58:02.941 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 13:58:02.942 +02:00 [DBG] Connection id "0HMS0EEV8DHHB" completed keep alive response.
2023-07-09 13:58:02.948 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 13:58:02.955 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest - - - 200 207 application/json;+charset=utf-8 1933.7563ms
2023-07-09 13:58:13.819 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/0/pointsofinterest - -
2023-07-09 13:58:13.823 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 13:58:13.825 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2023-07-09 13:58:13.826 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2023-07-09 13:58:13.828 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 13:58:13.829 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 13:58:13.830 +02:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDTO]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 13:58:13.831 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 13:58:13.832 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 13:58:13.834 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 13:58:13.835 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 13:58:13.836 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 13:58:13.838 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 13:58:13.845 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 13:58:13.848 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 13:58:13.849 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 13:58:13.850 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 13:58:13.851 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 13:58:13.852 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 13:58:13.853 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 13:58:13.856 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 13:58:13.870 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 13:58:13.874 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-09 13:58:13.875 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:58:13.876 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:58:13.877 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 13:58:13.878 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 13:58:13.880 +02:00 [DBG] A data reader was disposed.
2023-07-09 13:58:13.881 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:58:13.882 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:58:13.883 +02:00 [INF] City with id 0 wasn't found when accessing points of interest
2023-07-09 13:58:13.884 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 13:58:13.886 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 13:58:13.887 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-07-09 13:58:13.891 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-07-09 13:58:13.892 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-07-09 13:58:13.906 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 68.2946ms
2023-07-09 13:58:13.908 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 13:58:13.909 +02:00 [DBG] Connection id "0HMS0EEV8DHHB" completed keep alive response.
2023-07-09 13:58:13.910 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 13:58:13.911 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/0/pointsofinterest - - - 404 161 application/problem+json;+charset=utf-8 91.7553ms
2023-07-09 13:59:16.277 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/2/pointsofinterest - -
2023-07-09 13:59:16.286 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 13:59:16.287 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-07-09 13:59:16.288 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-07-09 13:59:16.289 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 13:59:16.290 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 13:59:16.291 +02:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDTO]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 13:59:16.293 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 13:59:16.294 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 13:59:16.296 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 13:59:16.297 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 13:59:16.298 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 13:59:16.300 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 13:59:16.302 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 13:59:16.304 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 13:59:16.305 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 13:59:16.306 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 13:59:16.307 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 13:59:16.307 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 13:59:16.309 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 13:59:16.348 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 13:59:16.351 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 13:59:16.352 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 13:59:16.353 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:59:16.354 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:59:16.355 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 13:59:16.358 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 13:59:16.361 +02:00 [DBG] A data reader was disposed.
2023-07-09 13:59:16.361 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:59:16.363 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:59:16.364 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 13:59:16.365 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 13:59:16.366 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:59:16.367 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:59:16.368 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-07-09 13:59:16.369 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-07-09 13:59:16.371 +02:00 [DBG] A data reader was disposed.
2023-07-09 13:59:16.372 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:59:16.373 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:59:16.374 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 13:59:16.378 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 13:59:16.379 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 13:59:16.379 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 13:59:16.380 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 13:59:16.381 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 13:59:16.382 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 82.6799ms
2023-07-09 13:59:16.384 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 13:59:16.385 +02:00 [DBG] Connection id "0HMS0EEV8DHHB" completed keep alive response.
2023-07-09 13:59:16.386 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 13:59:16.387 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/2/pointsofinterest - - - 200 2 application/json;+charset=utf-8 110.3971ms
2023-07-09 13:59:30.770 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/3/pointsofinterest - -
2023-07-09 13:59:30.772 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 13:59:30.773 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-07-09 13:59:30.774 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-07-09 13:59:30.776 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 13:59:30.777 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 13:59:30.778 +02:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDTO]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 13:59:30.780 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 13:59:30.781 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 13:59:30.783 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 13:59:30.784 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 13:59:30.785 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 13:59:30.786 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 13:59:30.787 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 13:59:30.788 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 13:59:30.789 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 13:59:30.790 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 13:59:30.791 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 13:59:30.793 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 13:59:30.795 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 13:59:30.796 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 13:59:30.797 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 13:59:30.799 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 13:59:30.800 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:59:30.801 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:59:30.802 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 13:59:30.803 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 13:59:30.805 +02:00 [DBG] A data reader was disposed.
2023-07-09 13:59:30.805 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:59:30.806 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:59:30.807 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 13:59:30.808 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 13:59:30.809 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:59:30.811 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:59:30.812 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-07-09 13:59:30.814 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-07-09 13:59:30.816 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:59:30.817 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 13:59:30.819 +02:00 [DBG] A data reader was disposed.
2023-07-09 13:59:30.820 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 13:59:30.821 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 13:59:30.822 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 13:59:30.824 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 13:59:30.824 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 13:59:30.825 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 13:59:30.826 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 13:59:30.827 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 13:59:30.829 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 42.6179ms
2023-07-09 13:59:30.830 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 13:59:30.832 +02:00 [DBG] Connection id "0HMS0EEV8DHHB" completed keep alive response.
2023-07-09 13:59:30.832 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 13:59:30.833 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/3/pointsofinterest - - - 200 185 application/json;+charset=utf-8 63.5848ms
2023-07-09 14:07:50.677 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 14:07:50.776 +02:00 [DBG] Hosting starting
2023-07-09 14:07:51.054 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 14:07:51.161 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 14:07:51.164 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 14:07:51.165 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 14:07:51.166 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 14:07:51.167 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 14:07:51.168 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 14:07:51.169 +02:00 [INF] Hosting environment: Development
2023-07-09 14:07:51.170 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 14:07:51.170 +02:00 [DBG] Hosting started
2023-07-09 14:09:36.115 +02:00 [DBG] Connection id "0HMS0ELEEBJ7E" received FIN.
2023-07-09 14:09:36.138 +02:00 [DBG] Connection id "0HMS0ELEEBJ7E" accepted.
2023-07-09 14:09:36.147 +02:00 [DBG] Connection id "0HMS0ELEEBJ7E" started.
2023-07-09 14:09:36.149 +02:00 [DBG] Connection id "0HMS0ELEEBJ7F" accepted.
2023-07-09 14:09:36.153 +02:00 [DBG] Connection id "0HMS0ELEEBJ7F" started.
2023-07-09 14:09:36.174 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 14:09:36.247 +02:00 [DBG] Connection 0HMS0ELEEBJ7F established using the following protocol: "Tls13"
2023-07-09 14:09:36.274 +02:00 [DBG] Connection id "0HMS0ELEEBJ7E" stopped.
2023-07-09 14:09:36.276 +02:00 [DBG] Connection id "0HMS0ELEEBJ7E" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 14:09:36.303 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest/1 - -
2023-07-09 14:09:36.316 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 14:09:36.349 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 14:09:36.373 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-07-09 14:09:36.381 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-07-09 14:09:36.383 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:09:36.385 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:09:36.417 +02:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 14:09:36.420 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 14:09:36.421 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 14:09:36.422 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 14:09:36.423 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 14:09:36.425 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 14:09:36.427 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:09:36.600 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 14:09:36.757 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:09:36.763 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:09:36.765 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 14:09:36.767 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:09:36.770 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:09:36.779 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:09:36.781 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:09:36.783 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 14:09:36.785 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-07-09 14:09:36.793 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:09:36.795 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:09:36.796 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 14:09:36.797 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:09:37.512 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 14:09:37.556 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-07-09 14:09:37.796 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 14:09:37.848 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:09:37.967 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (114ms).
2023-07-09 14:09:37.981 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:09:37.999 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:09:38.014 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 14:09:38.048 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 14:09:38.061 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:09:38.069 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:09:38.078 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:09:38.084 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-07-09 14:09:38.129 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 14:09:38.145 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:09:38.151 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-07-09 14:09:38.155 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:09:38.157 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:09:38.158 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 14:09:38.160 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 14:09:38.184 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:09:38.206 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:09:38.209 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:09:38.218 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:09:38.221 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 14:09:38.225 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 14:09:38.226 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 14:09:38.235 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 14:09:38.237 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 14:09:38.238 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Entities.PointOfInterest'.
2023-07-09 14:09:38.397 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 1964.9707ms
2023-07-09 14:09:38.401 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:09:38.402 +02:00 [DBG] Connection id "0HMS0ELEEBJ7F" completed keep alive response.
2023-07-09 14:09:38.409 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 14:09:38.418 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest/1 - - - 200 119 application/json;+charset=utf-8 2118.2590ms
2023-07-09 14:11:04.744 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 14:11:04.839 +02:00 [DBG] Hosting starting
2023-07-09 14:11:04.984 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 14:11:05.042 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 14:11:05.043 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 14:11:05.044 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 14:11:05.045 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 14:11:05.046 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 14:11:05.047 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 14:11:05.048 +02:00 [INF] Hosting environment: Development
2023-07-09 14:11:05.049 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 14:11:05.050 +02:00 [DBG] Hosting started
2023-07-09 14:11:09.847 +02:00 [DBG] Connection id "0HMS0EMAC8CVL" received FIN.
2023-07-09 14:11:09.856 +02:00 [DBG] Connection id "0HMS0EMAC8CVL" accepted.
2023-07-09 14:11:09.859 +02:00 [DBG] Connection id "0HMS0EMAC8CVL" started.
2023-07-09 14:11:09.860 +02:00 [DBG] Connection id "0HMS0EMAC8CVM" accepted.
2023-07-09 14:11:09.863 +02:00 [DBG] Connection id "0HMS0EMAC8CVM" started.
2023-07-09 14:11:09.876 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 14:11:09.922 +02:00 [DBG] Connection id "0HMS0EMAC8CVL" stopped.
2023-07-09 14:11:09.923 +02:00 [DBG] Connection 0HMS0EMAC8CVM established using the following protocol: "Tls13"
2023-07-09 14:11:09.925 +02:00 [DBG] Connection id "0HMS0EMAC8CVL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 14:11:09.957 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest/1 - -
2023-07-09 14:11:09.970 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 14:11:10.005 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 14:11:10.028 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-07-09 14:11:10.035 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-07-09 14:11:10.038 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:11:10.040 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:11:10.072 +02:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 14:11:10.074 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 14:11:10.076 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 14:11:10.077 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 14:11:10.078 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 14:11:10.079 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 14:11:10.081 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:11:10.210 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 14:11:10.361 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:11:10.365 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:11:10.369 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 14:11:10.371 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:11:10.372 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:11:10.373 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:11:10.375 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:11:10.377 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 14:11:10.378 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-07-09 14:11:10.380 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:11:10.381 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:11:10.382 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 14:11:10.387 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:11:11.102 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 14:11:11.148 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-07-09 14:11:11.398 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 14:11:11.455 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:11:11.523 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (64ms).
2023-07-09 14:11:11.536 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:11.552 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:11.566 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 14:11:11.599 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 14:11:11.613 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:11:11.621 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:11.627 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:11.631 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-07-09 14:11:11.673 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 14:11:11.686 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:11:11.690 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-09 14:11:11.695 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:11.696 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:11.697 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 14:11:11.700 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 14:11:11.733 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:11:11.756 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:11:11.758 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:11.759 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:11.779 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 14:11:11.789 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 14:11:11.794 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 14:11:11.795 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 14:11:11.796 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 14:11:11.798 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDTO'.
2023-07-09 14:11:11.934 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 1848.8463ms
2023-07-09 14:11:11.937 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:11:11.939 +02:00 [DBG] Connection id "0HMS0EMAC8CVM" completed keep alive response.
2023-07-09 14:11:11.946 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 14:11:11.952 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest/1 - - - 200 96 application/json;+charset=utf-8 1998.3277ms
2023-07-09 14:11:27.313 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest/3 - -
2023-07-09 14:11:27.316 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 14:11:27.318 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/3'
2023-07-09 14:11:27.320 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/3'
2023-07-09 14:11:27.322 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:11:27.323 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:11:27.324 +02:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 14:11:27.326 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 14:11:27.327 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 14:11:27.328 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 14:11:27.330 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 14:11:27.332 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 14:11:27.334 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:11:27.343 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:11:27.346 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:11:27.348 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 14:11:27.350 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:11:27.354 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:11:27.361 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:11:27.362 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:11:27.365 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 14:11:27.368 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-07-09 14:11:27.376 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:11:27.378 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:11:27.379 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 14:11:27.380 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:11:27.387 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 14:11:27.408 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:11:27.409 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 14:11:27.418 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:27.420 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:27.428 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 14:11:27.441 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 14:11:27.457 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:11:27.458 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:27.459 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:27.462 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:11:27.471 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2023-07-09 14:11:27.473 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:27.474 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:27.475 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 14:11:27.487 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 14:11:27.490 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:11:27.494 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:27.502 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:27.504 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 14:11:27.506 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 14:11:27.509 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-07-09 14:11:27.519 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-07-09 14:11:27.520 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-07-09 14:11:27.537 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 203.5805ms
2023-07-09 14:11:27.540 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:11:27.542 +02:00 [DBG] Connection id "0HMS0EMAC8CVM" completed keep alive response.
2023-07-09 14:11:27.551 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 14:11:27.555 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest/3 - - - 404 161 application/problem+json;+charset=utf-8 241.0945ms
2023-07-09 14:11:31.043 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest/00 - -
2023-07-09 14:11:31.046 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 14:11:31.049 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/00'
2023-07-09 14:11:31.051 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/00'
2023-07-09 14:11:31.055 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:11:31.057 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:11:31.058 +02:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 14:11:31.065 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 14:11:31.076 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 14:11:31.078 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 14:11:31.090 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 14:11:31.092 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 14:11:31.095 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:11:31.107 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:11:31.108 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:11:31.109 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 14:11:31.113 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:11:31.122 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:11:31.124 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:11:31.125 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:11:31.128 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 14:11:31.137 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-07-09 14:11:31.139 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:11:31.142 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:11:31.156 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 14:11:31.159 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:11:31.199 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 14:11:31.203 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:11:31.203 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 14:11:31.205 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:31.206 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:31.207 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 14:11:31.209 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 14:11:31.212 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:11:31.213 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:31.215 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:31.217 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:11:31.217 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 14:11:31.219 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:31.223 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:31.231 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 14:11:31.233 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 14:11:31.244 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:11:31.249 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:31.258 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:31.261 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 14:11:31.264 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 14:11:31.267 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-07-09 14:11:31.276 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-07-09 14:11:31.277 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-07-09 14:11:31.279 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 183.8033ms
2023-07-09 14:11:31.284 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:11:31.292 +02:00 [DBG] Connection id "0HMS0EMAC8CVM" completed keep alive response.
2023-07-09 14:11:31.293 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 14:11:31.295 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest/00 - - - 404 161 application/problem+json;+charset=utf-8 251.9444ms
2023-07-09 14:11:33.935 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest/1 - -
2023-07-09 14:11:33.938 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 14:11:33.939 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-07-09 14:11:33.940 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-07-09 14:11:33.942 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:11:33.943 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:11:33.944 +02:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 14:11:33.946 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 14:11:33.947 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 14:11:33.949 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 14:11:33.950 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 14:11:33.952 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 14:11:33.953 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:11:33.955 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:11:33.956 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:11:33.957 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 14:11:33.962 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:11:33.970 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:11:33.971 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:11:33.974 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:11:33.983 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 14:11:33.984 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-07-09 14:11:33.985 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:11:33.987 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:11:33.991 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 14:11:34.003 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:11:34.005 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 14:11:34.007 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:11:34.017 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2023-07-09 14:11:34.020 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:34.028 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:34.029 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 14:11:34.033 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 14:11:34.042 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:11:34.044 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:34.045 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:34.047 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:11:34.048 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 14:11:34.049 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:34.053 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:34.060 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 14:11:34.062 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 14:11:34.066 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:11:34.079 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:11:34.079 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:34.083 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:34.084 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 14:11:34.093 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 14:11:34.094 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 14:11:34.095 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 14:11:34.095 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 14:11:34.100 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDTO'.
2023-07-09 14:11:34.107 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 153.8146ms
2023-07-09 14:11:34.108 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:11:34.109 +02:00 [DBG] Connection id "0HMS0EMAC8CVM" completed keep alive response.
2023-07-09 14:11:34.110 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 14:11:34.114 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest/1 - - - 200 96 application/json;+charset=utf-8 179.2547ms
2023-07-09 14:11:36.060 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest/2 - -
2023-07-09 14:11:36.062 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 14:11:36.064 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/2'
2023-07-09 14:11:36.066 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/2'
2023-07-09 14:11:36.067 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:11:36.068 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:11:36.070 +02:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 14:11:36.071 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 14:11:36.073 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 14:11:36.074 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 14:11:36.076 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 14:11:36.077 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 14:11:36.082 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:11:36.089 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:11:36.090 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:11:36.091 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 14:11:36.092 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:11:36.094 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:11:36.098 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:11:36.106 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:11:36.107 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 14:11:36.109 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-07-09 14:11:36.112 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:11:36.130 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:11:36.135 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 14:11:36.142 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:11:36.143 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 14:11:36.153 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:11:36.154 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 14:11:36.155 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:36.158 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:36.166 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 14:11:36.169 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 14:11:36.180 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:11:36.182 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:36.184 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:36.185 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:11:36.186 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 14:11:36.190 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:36.198 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:36.200 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 14:11:36.205 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 14:11:36.216 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:11:36.217 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:11:36.218 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:11:36.222 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:11:36.237 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 14:11:36.246 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 14:11:36.247 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 14:11:36.248 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 14:11:36.249 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 14:11:36.252 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDTO'.
2023-07-09 14:11:36.260 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 177.986ms
2023-07-09 14:11:36.261 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:11:36.263 +02:00 [DBG] Connection id "0HMS0EMAC8CVM" completed keep alive response.
2023-07-09 14:11:36.264 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 14:11:36.268 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest/2 - - - 200 108 application/json;+charset=utf-8 207.8012ms
2023-07-09 14:35:11.180 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 14:35:11.271 +02:00 [DBG] Hosting starting
2023-07-09 14:35:11.413 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 14:35:11.471 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 14:35:11.472 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 14:35:11.473 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 14:35:11.474 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 14:35:11.475 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 14:35:11.476 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 14:35:11.477 +02:00 [INF] Hosting environment: Development
2023-07-09 14:35:11.478 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 14:35:11.479 +02:00 [DBG] Hosting started
2023-07-09 14:35:31.015 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 14:35:31.104 +02:00 [DBG] Hosting starting
2023-07-09 14:35:31.244 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 14:35:31.307 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 14:35:31.308 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 14:35:31.310 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 14:35:31.310 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 14:35:31.311 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 14:35:31.312 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 14:35:31.313 +02:00 [INF] Hosting environment: Development
2023-07-09 14:35:31.314 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 14:35:31.315 +02:00 [DBG] Hosting started
2023-07-09 14:35:53.252 +02:00 [DBG] Connection id "0HMS0F44F3LQT" received FIN.
2023-07-09 14:35:53.277 +02:00 [DBG] Connection id "0HMS0F44F3LQT" accepted.
2023-07-09 14:35:53.285 +02:00 [DBG] Connection id "0HMS0F44F3LQT" started.
2023-07-09 14:35:53.287 +02:00 [DBG] Connection id "0HMS0F44F3LQU" accepted.
2023-07-09 14:35:53.290 +02:00 [DBG] Connection id "0HMS0F44F3LQU" started.
2023-07-09 14:35:53.310 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 14:35:53.370 +02:00 [DBG] Connection id "0HMS0F44F3LQT" stopped.
2023-07-09 14:35:53.371 +02:00 [DBG] Connection 0HMS0F44F3LQU established using the following protocol: "Tls13"
2023-07-09 14:35:53.372 +02:00 [DBG] Connection id "0HMS0F44F3LQT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 14:35:53.404 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1 - -
2023-07-09 14:35:53.416 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 14:35:53.449 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 14:35:53.472 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-07-09 14:35:53.479 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-07-09 14:35:53.481 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:35:53.485 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:35:53.515 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 14:35:53.519 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 14:35:53.520 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 14:35:53.521 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 14:35:53.522 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 14:35:53.523 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 14:35:53.524 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 14:35:53.647 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 14:35:53.792 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 14:35:53.797 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 14:35:53.800 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 14:35:53.802 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 14:35:53.803 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 14:35:53.804 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 14:35:53.806 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 14:35:53.808 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 14:35:53.809 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-07-09 14:35:53.811 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:35:53.812 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:35:53.813 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:35:53.814 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 14:35:53.819 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:35:54.487 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 14:35:54.554 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-07-09 14:35:54.820 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 14:35:54.878 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:35:54.942 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (60ms).
2023-07-09 14:35:54.955 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:35:54.972 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:35:54.986 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 14:35:55.018 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 14:35:55.036 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:35:55.061 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:35:55.068 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:35:55.074 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:35:55.084 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 14:35:55.089 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 14:35:55.090 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 14:35:55.100 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 14:35:55.103 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 14:35:55.106 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDTO'.
2023-07-09 14:35:55.235 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1706.5046ms
2023-07-09 14:35:55.238 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:35:55.239 +02:00 [DBG] Connection id "0HMS0F44F3LQU" completed keep alive response.
2023-07-09 14:35:55.245 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 14:35:55.250 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1 - - - 200 75 application/json;+charset=utf-8 1849.3694ms
2023-07-09 14:36:02.141 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - -
2023-07-09 14:36:02.143 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 14:36:02.145 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-07-09 14:36:02.145 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-07-09 14:36:02.147 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:36:02.148 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:36:02.150 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 14:36:02.151 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 14:36:02.153 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 14:36:02.154 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 14:36:02.156 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 14:36:02.157 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 14:36:02.159 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 14:36:02.166 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 14:36:02.173 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 14:36:02.174 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 14:36:02.176 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 14:36:02.177 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 14:36:02.178 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 14:36:02.179 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 14:36:02.183 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 14:36:02.192 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 14:36:02.194 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:36:02.194 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:36:02.197 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 14:36:02.207 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:36:02.228 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 14:36:02.255 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:36:02.256 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 14:36:02.259 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:36:02.261 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:36:02.268 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 14:36:02.270 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 14:36:02.274 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:36:02.289 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:36:02.291 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:36:02.300 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:36:02.307 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 14:36:02.312 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 14:36:02.313 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 14:36:02.314 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 14:36:02.315 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 14:36:02.317 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-07-09 14:36:02.328 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 169.0235ms
2023-07-09 14:36:02.330 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:36:02.331 +02:00 [DBG] Connection id "0HMS0F44F3LQU" completed keep alive response.
2023-07-09 14:36:02.333 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 14:36:02.336 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - - - 200 126 application/json;+charset=utf-8 195.5211ms
2023-07-09 14:36:10.773 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/2?includePointsOfInterest=true - -
2023-07-09 14:36:10.775 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 14:36:10.776 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2023-07-09 14:36:10.777 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2023-07-09 14:36:10.778 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:36:10.779 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:36:10.780 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 14:36:10.782 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 14:36:10.786 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 14:36:10.794 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 14:36:10.796 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 14:36:10.797 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 14:36:10.802 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 14:36:10.811 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 14:36:10.812 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 14:36:10.815 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 14:36:10.830 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 14:36:10.831 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 14:36:10.850 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 14:36:10.853 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 14:36:10.859 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 14:36:10.862 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 14:36:10.872 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:36:10.873 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:36:10.874 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 14:36:10.877 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:36:10.935 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 14:36:10.938 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:36:10.939 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 14:36:10.941 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:36:10.942 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:36:10.943 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 14:36:10.947 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 14:36:10.951 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:36:10.953 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:36:10.954 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:36:10.958 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:36:10.965 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 14:36:10.967 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 14:36:10.968 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 14:36:10.969 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 14:36:10.970 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 14:36:10.973 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-07-09 14:36:10.980 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 178.0808ms
2023-07-09 14:36:10.981 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:36:10.983 +02:00 [DBG] Connection id "0HMS0F44F3LQU" completed keep alive response.
2023-07-09 14:36:10.985 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 14:36:10.988 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/2?includePointsOfInterest=true - - - 200 150 application/json;+charset=utf-8 215.0174ms
2023-07-09 14:36:46.992 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 14:36:47.082 +02:00 [DBG] Hosting starting
2023-07-09 14:36:47.225 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 14:36:47.284 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 14:36:47.286 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 14:36:47.287 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 14:36:47.288 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 14:36:47.289 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 14:36:47.290 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 14:36:47.291 +02:00 [INF] Hosting environment: Development
2023-07-09 14:36:47.292 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 14:36:47.293 +02:00 [DBG] Hosting started
2023-07-09 14:36:50.649 +02:00 [DBG] Connection id "0HMS0F4LIFQLH" received FIN.
2023-07-09 14:36:50.658 +02:00 [DBG] Connection id "0HMS0F4LIFQLH" accepted.
2023-07-09 14:36:50.661 +02:00 [DBG] Connection id "0HMS0F4LIFQLH" started.
2023-07-09 14:36:50.662 +02:00 [DBG] Connection id "0HMS0F4LIFQLI" accepted.
2023-07-09 14:36:50.664 +02:00 [DBG] Connection id "0HMS0F4LIFQLI" started.
2023-07-09 14:36:50.676 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 14:36:50.718 +02:00 [DBG] Connection id "0HMS0F4LIFQLH" stopped.
2023-07-09 14:36:50.720 +02:00 [DBG] Connection 0HMS0F4LIFQLI established using the following protocol: "Tls13"
2023-07-09 14:36:50.721 +02:00 [DBG] Connection id "0HMS0F4LIFQLH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 14:36:50.754 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/2?includePointsOfInterest=true - -
2023-07-09 14:36:50.766 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 14:36:50.801 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 14:36:50.824 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2023-07-09 14:36:50.829 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2023-07-09 14:36:50.832 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:36:50.834 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:36:50.863 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 14:36:50.866 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 14:36:50.867 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 14:36:50.868 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 14:36:50.870 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 14:36:50.871 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 14:36:50.872 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 14:36:50.995 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 14:36:51.143 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 14:36:51.151 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 14:36:51.154 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 14:36:51.157 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 14:36:51.158 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 14:36:51.167 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 14:36:51.169 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 14:36:51.171 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 14:36:51.174 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 14:36:51.181 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:36:51.183 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:36:51.184 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 14:36:51.186 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:36:51.869 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 14:36:51.942 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-07-09 14:36:52.034 +02:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-07-09 14:36:52.323 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 14:36:52.375 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:36:52.442 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (63ms).
2023-07-09 14:36:52.456 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:36:52.472 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:36:52.488 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 14:36:52.538 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 14:36:52.564 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:36:52.595 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:36:52.603 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:36:52.609 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:36:52.622 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 14:36:52.627 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 14:36:52.628 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 14:36:52.629 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 14:36:52.630 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 14:36:52.632 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-07-09 14:36:52.761 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1885.4038ms
2023-07-09 14:36:52.763 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:36:52.765 +02:00 [DBG] Connection id "0HMS0F4LIFQLI" completed keep alive response.
2023-07-09 14:36:52.772 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 14:36:52.779 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/2?includePointsOfInterest=true - - - 200 150 application/json;+charset=utf-8 2028.3889ms
2023-07-09 14:36:58.483 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/2?includePointsOfInterest=true - -
2023-07-09 14:36:58.485 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 14:36:58.487 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2023-07-09 14:36:58.488 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2023-07-09 14:36:58.489 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:36:58.491 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:36:58.493 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 14:36:58.494 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 14:36:58.496 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 14:36:58.497 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 14:36:58.499 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 14:36:58.501 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 14:36:58.502 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 14:36:58.509 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 14:36:58.512 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 14:36:58.514 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 14:36:58.516 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 14:36:58.517 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 14:36:58.518 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 14:36:58.519 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 14:36:58.522 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 14:36:58.530 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 14:36:58.531 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:36:58.533 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:36:58.535 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 14:36:58.538 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:36:58.555 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 14:36:58.579 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:36:58.581 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 14:36:58.586 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:36:58.587 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:36:58.595 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 14:36:58.601 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 14:36:58.610 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:36:58.611 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:36:58.612 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:36:58.616 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:36:58.627 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 14:36:58.630 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 14:36:58.640 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 14:36:58.641 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 14:36:58.642 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 14:36:58.643 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-07-09 14:36:58.646 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 144.0995ms
2023-07-09 14:36:58.655 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:36:58.656 +02:00 [DBG] Connection id "0HMS0F4LIFQLI" completed keep alive response.
2023-07-09 14:36:58.657 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 14:36:58.658 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/2?includePointsOfInterest=true - - - 200 150 application/json;+charset=utf-8 174.9244ms
2023-07-09 14:37:11.325 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 14:37:11.415 +02:00 [DBG] Hosting starting
2023-07-09 14:37:11.552 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 14:37:11.616 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 14:37:11.618 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 14:37:11.619 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 14:37:11.620 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 14:37:11.621 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 14:37:11.622 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 14:37:11.623 +02:00 [INF] Hosting environment: Development
2023-07-09 14:37:11.624 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 14:37:11.624 +02:00 [DBG] Hosting started
2023-07-09 14:37:22.607 +02:00 [DBG] Connection id "0HMS0F4V38LNU" received FIN.
2023-07-09 14:37:22.617 +02:00 [DBG] Connection id "0HMS0F4V38LNU" accepted.
2023-07-09 14:37:22.620 +02:00 [DBG] Connection id "0HMS0F4V38LNU" started.
2023-07-09 14:37:22.622 +02:00 [DBG] Connection id "0HMS0F4V38LNV" accepted.
2023-07-09 14:37:22.623 +02:00 [DBG] Connection id "0HMS0F4V38LNV" started.
2023-07-09 14:37:22.636 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 14:37:22.682 +02:00 [DBG] Connection id "0HMS0F4V38LNU" stopped.
2023-07-09 14:37:22.683 +02:00 [DBG] Connection 0HMS0F4V38LNV established using the following protocol: "Tls13"
2023-07-09 14:37:22.685 +02:00 [DBG] Connection id "0HMS0F4V38LNU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 14:37:22.718 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/2?includePointsOfInterest=true - -
2023-07-09 14:37:22.731 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 14:37:22.766 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 14:37:22.791 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2023-07-09 14:37:22.798 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2023-07-09 14:37:22.800 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:37:22.803 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:37:22.835 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 14:37:22.838 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 14:37:22.838 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 14:37:22.840 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 14:37:22.841 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 14:37:22.843 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 14:37:22.844 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 14:37:22.970 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 14:37:23.123 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 14:37:23.132 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 14:37:23.134 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 14:37:23.136 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 14:37:23.136 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 14:37:23.138 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 14:37:23.140 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 14:37:23.143 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 14:37:23.144 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 14:37:23.146 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:37:23.149 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:37:23.157 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 14:37:23.159 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:37:23.839 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 14:37:23.914 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-07-09 14:37:24.006 +02:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-07-09 14:37:24.291 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 14:37:24.345 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:37:24.414 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (65ms).
2023-07-09 14:37:24.428 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:37:24.446 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:37:24.461 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 14:37:24.500 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 14:37:24.520 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:37:24.553 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:37:24.561 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:37:24.568 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:37:24.582 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 14:37:24.589 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 14:37:24.598 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 14:37:24.600 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 14:37:24.610 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 14:37:24.612 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-07-09 14:37:24.739 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1891.6529ms
2023-07-09 14:37:24.744 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:37:24.745 +02:00 [DBG] Connection id "0HMS0F4V38LNV" completed keep alive response.
2023-07-09 14:37:24.752 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 14:37:24.758 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/2?includePointsOfInterest=true - - - 200 150 application/json;+charset=utf-8 2042.1175ms
2023-07-09 14:37:30.435 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - -
2023-07-09 14:37:30.437 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 14:37:30.438 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-07-09 14:37:30.439 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-07-09 14:37:30.440 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:37:30.442 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:37:30.443 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 14:37:30.445 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 14:37:30.448 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 14:37:30.456 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 14:37:30.458 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 14:37:30.460 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 14:37:30.463 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 14:37:30.477 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 14:37:30.480 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 14:37:30.481 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 14:37:30.489 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 14:37:30.490 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 14:37:30.494 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 14:37:30.502 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 14:37:30.503 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 14:37:30.504 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 14:37:30.506 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:37:30.507 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:37:30.510 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 14:37:30.518 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:37:30.521 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 14:37:30.536 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:37:30.537 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 14:37:30.540 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:37:30.543 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:37:30.551 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 14:37:30.556 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 14:37:30.567 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:37:30.571 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:37:30.585 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:37:30.589 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:37:30.589 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:37:30.607 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:37:30.609 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 14:37:30.621 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 14:37:30.630 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 14:37:30.631 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 14:37:30.633 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 14:37:30.645 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-07-09 14:37:30.647 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 183.7769ms
2023-07-09 14:37:30.650 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:37:30.657 +02:00 [DBG] Connection id "0HMS0F4V38LNV" completed keep alive response.
2023-07-09 14:37:30.658 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 14:37:30.659 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - - - 200 331 application/json;+charset=utf-8 224.2120ms
2023-07-09 14:37:40.187 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/3?includePointsOfInterest=true - -
2023-07-09 14:37:40.190 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 14:37:40.192 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3'
2023-07-09 14:37:40.194 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/3'
2023-07-09 14:37:40.197 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:37:40.199 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:37:40.200 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 14:37:40.213 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 14:37:40.214 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 14:37:40.216 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 14:37:40.226 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 14:37:40.228 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 14:37:40.229 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 14:37:40.232 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 14:37:40.235 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 14:37:40.243 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 14:37:40.244 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 14:37:40.246 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 14:37:40.247 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 14:37:40.248 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 14:37:40.251 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 14:37:40.262 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 14:37:40.264 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:37:40.265 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:37:40.267 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 14:37:40.279 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 14:37:40.319 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 14:37:40.322 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:37:40.323 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 14:37:40.325 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:37:40.327 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:37:40.328 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 14:37:40.330 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 14:37:40.333 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:37:40.334 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:37:40.335 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:37:40.336 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:37:40.337 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:37:40.338 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:37:40.339 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 14:37:40.341 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 14:37:40.346 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 14:37:40.350 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 14:37:40.351 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 14:37:40.352 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-07-09 14:37:40.353 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 124.087ms
2023-07-09 14:37:40.355 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 14:37:40.356 +02:00 [DBG] Connection id "0HMS0F4V38LNV" completed keep alive response.
2023-07-09 14:37:40.357 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 14:37:40.362 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/3?includePointsOfInterest=true - - - 200 302 application/json;+charset=utf-8 174.2022ms
2023-07-09 14:49:48.721 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 14:49:48.814 +02:00 [DBG] Hosting starting
2023-07-09 14:49:48.979 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 14:49:49.240 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 14:49:49.244 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 14:49:49.246 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 14:49:49.247 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 14:49:49.248 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 14:49:49.249 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 14:49:49.250 +02:00 [INF] Hosting environment: Development
2023-07-09 14:49:49.251 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 14:49:49.252 +02:00 [DBG] Hosting started
2023-07-09 14:50:03.887 +02:00 [DBG] Connection id "0HMS0FC1VCTHQ" received FIN.
2023-07-09 14:50:03.896 +02:00 [DBG] Connection id "0HMS0FC1VCTHQ" accepted.
2023-07-09 14:50:03.906 +02:00 [DBG] Connection id "0HMS0FC1VCTHQ" started.
2023-07-09 14:50:03.908 +02:00 [DBG] Connection id "0HMS0FC1VCTHR" accepted.
2023-07-09 14:50:03.910 +02:00 [DBG] Connection id "0HMS0FC1VCTHR" started.
2023-07-09 14:50:03.922 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 14:50:03.964 +02:00 [DBG] Connection id "0HMS0FC1VCTHQ" stopped.
2023-07-09 14:50:03.967 +02:00 [DBG] Connection 0HMS0FC1VCTHR established using the following protocol: "Tls13"
2023-07-09 14:50:03.967 +02:00 [DBG] Connection id "0HMS0FC1VCTHQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 14:50:04.000 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7018/api/cities/3/pointsofinterest application/json 137
2023-07-09 14:50:04.013 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 14:50:04.030 +02:00 [DBG] POST requests are not supported
2023-07-09 14:50:04.055 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-07-09 14:50:04.062 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-07-09 14:50:04.064 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-07-09 14:50:04.066 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-07-09 14:50:04.098 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDTO) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 14:50:04.100 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 14:50:04.102 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 14:50:04.104 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 14:50:04.105 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 14:50:04.106 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 14:50:04.107 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:50:04.235 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 14:50:04.386 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:50:04.391 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:50:04.394 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 14:50:04.395 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:50:04.396 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:50:04.397 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:50:04.400 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:50:04.405 +02:00 [DBG] Attempting to bind parameter 'newPointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO' ...
2023-07-09 14:50:04.411 +02:00 [DBG] Attempting to bind parameter 'newPointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO' using the name '' in request data ...
2023-07-09 14:50:04.413 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-09 14:50:04.414 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-09 14:50:04.424 +02:00 [DBG] Connection id "0HMS0FC1VCTHR", Request id "0HMS0FC1VCTHR:00000002": started reading request body.
2023-07-09 14:50:04.428 +02:00 [DBG] Connection id "0HMS0FC1VCTHR", Request id "0HMS0FC1VCTHR:00000002": done reading request body.
2023-07-09 14:50:04.546 +02:00 [DBG] Done attempting to bind parameter 'newPointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO'.
2023-07-09 14:50:04.548 +02:00 [DBG] Done attempting to bind parameter 'newPointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO'.
2023-07-09 14:50:04.549 +02:00 [DBG] Attempting to validate the bound parameter 'newPointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO' ...
2023-07-09 14:50:04.557 +02:00 [DBG] Done attempting to validate the bound parameter 'newPointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO'.
2023-07-09 14:53:20.802 +02:00 [DBG] Connection id "0HMS0FC1VCTHR" received FIN.
2023-07-09 14:53:20.813 +02:00 [DBG] Connection id "0HMS0FC1VCTHS" received FIN.
2023-07-09 14:53:20.821 +02:00 [DBG] Connection id "0HMS0FC1VCTHR" sending FIN because: "The client closed the connection."
2023-07-09 14:53:20.831 +02:00 [DBG] Connection id "0HMS0FC1VCTHS" accepted.
2023-07-09 14:53:20.833 +02:00 [DBG] Connection id "0HMS0FC1VCTHR" disconnecting.
2023-07-09 14:53:20.841 +02:00 [DBG] Connection id "0HMS0FC1VCTHS" started.
2023-07-09 14:53:20.843 +02:00 [DBG] Connection id "0HMS0FC1VCTHT" accepted.
2023-07-09 14:53:20.852 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 14:53:20.857 +02:00 [DBG] Connection id "0HMS0FC1VCTHT" started.
2023-07-09 14:53:20.950 +02:00 [DBG] Connection id "0HMS0FC1VCTHS" stopped.
2023-07-09 14:53:20.954 +02:00 [DBG] Connection id "0HMS0FC1VCTHS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 14:53:20.955 +02:00 [DBG] Connection 0HMS0FC1VCTHT established using the following protocol: "Tls13"
2023-07-09 14:53:20.958 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7018/api/cities/2/pointsofinterest application/json 137
2023-07-09 14:53:20.959 +02:00 [DBG] POST requests are not supported
2023-07-09 14:53:20.964 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-07-09 14:53:20.979 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-07-09 14:53:20.990 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-07-09 14:53:20.995 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-07-09 14:53:21.011 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDTO) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 14:53:21.020 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 14:53:21.022 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 14:53:21.028 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 14:53:21.042 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 14:53:21.051 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 14:53:21.052 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:53:21.062 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:53:21.064 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:53:21.066 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 14:53:21.067 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:53:21.068 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:53:21.071 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:53:21.086 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:53:21.089 +02:00 [DBG] Attempting to bind parameter 'newPointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO' ...
2023-07-09 14:53:21.103 +02:00 [DBG] Attempting to bind parameter 'newPointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO' using the name '' in request data ...
2023-07-09 14:53:21.104 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-09 14:53:21.112 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-09 14:53:21.113 +02:00 [DBG] Connection id "0HMS0FC1VCTHT", Request id "0HMS0FC1VCTHT:00000002": started reading request body.
2023-07-09 14:53:21.118 +02:00 [DBG] Connection id "0HMS0FC1VCTHT", Request id "0HMS0FC1VCTHT:00000002": done reading request body.
2023-07-09 14:53:21.127 +02:00 [DBG] Done attempting to bind parameter 'newPointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO'.
2023-07-09 14:53:21.129 +02:00 [DBG] Done attempting to bind parameter 'newPointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO'.
2023-07-09 14:53:21.130 +02:00 [DBG] Attempting to validate the bound parameter 'newPointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO' ...
2023-07-09 14:53:21.135 +02:00 [DBG] Done attempting to validate the bound parameter 'newPointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO'.
2023-07-09 14:53:28.264 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 14:53:28.264 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 14:53:28.315 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-07-09 14:53:28.562 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 14:53:28.613 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:53:28.613 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:53:28.688 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (70ms).
2023-07-09 14:53:28.688 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (70ms).
2023-07-09 14:53:28.704 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:53:28.704 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:53:28.722 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:53:28.722 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:53:28.738 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 14:53:28.738 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 14:53:28.779 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 14:53:28.779 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 14:53:28.796 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:53:28.811 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:53:28.822 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:53:28.822 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:53:28.833 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:53:28.846 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:54:01.983 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-07-09 14:54:02.026 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 14:54:02.040 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:54:02.040 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:54:02.043 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-09 14:54:02.045 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-09 14:54:02.046 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:54:02.048 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:54:02.052 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:54:02.060 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:54:02.063 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 14:54:02.062 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 14:54:02.074 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 14:54:02.078 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-07-09 14:54:02.108 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:54:02.108 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:54:02.131 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:54:02.131 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:54:02.133 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:54:02.134 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:54:02.145 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:54:02.146 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:54:02.161 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-07-09 14:54:02.161 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-07-09 14:54:02.164 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-07-09 14:54:02.168 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-07-09 14:54:02.190 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:54:02.190 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:54:02.219 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:54:02.219 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:54:02.246 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:54:02.246 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:54:02.252 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-07-09 14:54:02.252 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-07-09 14:54:02.305 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:54:02.305 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:54:02.307 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:54:02.310 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:54:02.321 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-09 14:54:02.321 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-09 14:54:02.334 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-07-09 14:54:02.384 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:54:02.386 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-09 14:54:02.387 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 82), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-07-09 14:54:02.392 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 82), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-07-09 14:54:02.413 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-09 14:54:02.420 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:54:02.428 +02:00 [DBG] Committing transaction.
2023-07-09 14:54:02.440 +02:00 [DBG] Committed transaction.
2023-07-09 14:54:02.447 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:54:02.449 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:54:02.454 +02:00 [DBG] Disposing transaction.
2023-07-09 14:54:02.464 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:54:02.467 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-07-09 14:55:39.869 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-07-09 14:55:39.877 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:55:39.878 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 14:55:39.880 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-09 14:55:39.888 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 14:55:39.906 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 82), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-07-09 14:55:39.910 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 14:55:39.930 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 82), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-07-09 14:55:39.940 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 14:55:39.966 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-09 14:55:39.976 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 14:55:39.980 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:55:39.983 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDTO'.
2023-07-09 14:55:39.991 +02:00 [DBG] Committing transaction.
2023-07-09 14:55:40.007 +02:00 [DBG] Committed transaction.
2023-07-09 14:55:40.008 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:55:40.010 +02:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-07-09 14:55:40.011 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:55:40.022 +02:00 [DBG] Disposing transaction.
2023-07-09 14:55:40.023 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:55:40.026 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-07-09 14:55:40.030 +02:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointOfInterestId} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/2/pointsofinterest/5 and 
2023-07-09 14:55:40.075 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 14:55:40.081 +02:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/2/pointsofinterest/5
2023-07-09 14:55:40.084 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 14:55:40.086 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 14:55:40.093 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 14:55:40.105 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 14:55:40.106 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDTO'.
2023-07-09 14:55:40.117 +02:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-07-09 14:55:40.121 +02:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointOfInterestId} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest/6 and 
2023-07-09 14:55:40.128 +02:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest/6
2023-07-09 14:55:40.150 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 336023.8822ms
2023-07-09 14:55:40.150 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 139080.6098ms
2023-07-09 14:55:40.152 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-07-09 14:55:40.153 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-07-09 14:55:40.156 +02:00 [DBG] Connection id "0HMS0FC1VCTHT" completed keep alive response.
2023-07-09 14:55:40.160 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 14:55:40.160 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 14:55:40.166 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7018/api/cities/3/pointsofinterest application/json 137 - 201 131 application/json;+charset=utf-8 336168.8018ms
2023-07-09 14:55:40.166 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7018/api/cities/2/pointsofinterest application/json 137 - 201 131 application/json;+charset=utf-8 139207.4066ms
2023-07-09 14:55:40.175 +02:00 [DBG] Connection id "0HMS0FC1VCTHR" stopped.
2023-07-09 14:55:53.320 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/2/pointsofinterest/5 - -
2023-07-09 14:55:53.330 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 14:55:53.332 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest/5'
2023-07-09 14:55:53.334 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/2/pointsofinterest/5'
2023-07-09 14:55:53.335 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:55:53.337 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:55:53.339 +02:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 14:55:53.341 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 14:55:53.347 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 14:55:53.355 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 14:55:53.359 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 14:55:53.372 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 14:55:53.375 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:55:53.377 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:55:53.386 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:55:53.387 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 14:55:53.390 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:55:53.403 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:55:53.405 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:55:53.407 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:55:53.416 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 14:55:53.418 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-07-09 14:55:53.419 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:55:53.422 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:55:53.430 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 14:55:53.432 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 14:55:53.471 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 14:55:53.474 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:55:53.475 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 14:55:53.476 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:55:53.478 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:55:53.480 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 14:55:53.490 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 14:55:53.496 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:55:53.498 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:55:53.506 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:55:53.509 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-07-09 14:55:53.515 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 14:55:53.525 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 14:55:53.526 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 14:55:53.531 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:55:53.539 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:55:53.540 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 14:55:53.542 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 14:55:53.554 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 14:55:53.556 +02:00 [DBG] A data reader was disposed.
2023-07-09 14:55:53.557 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 14:55:53.558 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 14:55:53.562 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 14:55:53.571 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 14:55:53.572 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 14:55:53.573 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 14:55:53.573 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 14:55:53.577 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDTO'.
2023-07-09 14:55:53.586 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 211.7116ms
2023-07-09 14:55:53.587 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-07-09 14:55:53.589 +02:00 [DBG] Connection id "0HMS0FC1VCTHT" completed keep alive response.
2023-07-09 14:55:53.592 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 14:55:53.602 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/2/pointsofinterest/5 - - - 200 131 application/json;+charset=utf-8 282.3613ms
2023-07-09 14:58:02.786 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 14:58:02.875 +02:00 [DBG] Hosting starting
2023-07-09 14:58:03.012 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 14:58:03.075 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 14:58:03.077 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 14:58:03.078 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 14:58:03.079 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 14:58:03.080 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 14:58:03.080 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 14:58:03.082 +02:00 [INF] Hosting environment: Development
2023-07-09 14:58:03.082 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 14:58:03.083 +02:00 [DBG] Hosting started
2023-07-09 14:58:38.521 +02:00 [DBG] Connection id "0HMS0FGRBANT1" received FIN.
2023-07-09 14:58:38.546 +02:00 [DBG] Connection id "0HMS0FGRBANT1" accepted.
2023-07-09 14:58:38.553 +02:00 [DBG] Connection id "0HMS0FGRBANT1" started.
2023-07-09 14:58:38.555 +02:00 [DBG] Connection id "0HMS0FGRBANT2" accepted.
2023-07-09 14:58:38.558 +02:00 [DBG] Connection id "0HMS0FGRBANT2" started.
2023-07-09 14:58:38.578 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 14:58:38.634 +02:00 [DBG] Connection id "0HMS0FGRBANT1" stopped.
2023-07-09 14:58:38.635 +02:00 [DBG] Connection 0HMS0FGRBANT2 established using the following protocol: "Tls13"
2023-07-09 14:58:38.637 +02:00 [DBG] Connection id "0HMS0FGRBANT1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 14:58:38.668 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7018/api/cities/2/pointsofinterest application/json 132
2023-07-09 14:58:38.681 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 14:58:38.697 +02:00 [DBG] POST requests are not supported
2023-07-09 14:58:38.721 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-07-09 14:58:38.727 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-07-09 14:58:38.729 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-07-09 14:58:38.732 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-07-09 14:58:38.762 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDTO) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 14:58:38.765 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 14:58:38.767 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 14:58:38.768 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 14:58:38.769 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 14:58:38.770 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 14:58:38.771 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:58:38.892 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 14:58:39.040 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 14:58:39.045 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:58:39.047 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 14:58:39.050 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:58:39.051 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:58:39.053 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 14:58:39.055 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 14:58:39.057 +02:00 [DBG] Attempting to bind parameter 'newPointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO' ...
2023-07-09 14:58:39.058 +02:00 [DBG] Attempting to bind parameter 'newPointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO' using the name '' in request data ...
2023-07-09 14:58:39.060 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-09 14:58:39.061 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-09 14:58:39.070 +02:00 [DBG] Connection id "0HMS0FGRBANT2", Request id "0HMS0FGRBANT2:00000002": started reading request body.
2023-07-09 14:58:39.072 +02:00 [DBG] Connection id "0HMS0FGRBANT2", Request id "0HMS0FGRBANT2:00000002": done reading request body.
2023-07-09 14:58:39.189 +02:00 [DBG] Done attempting to bind parameter 'newPointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO'.
2023-07-09 14:58:39.191 +02:00 [DBG] Done attempting to bind parameter 'newPointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO'.
2023-07-09 14:58:39.192 +02:00 [DBG] Attempting to validate the bound parameter 'newPointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO' ...
2023-07-09 14:58:39.198 +02:00 [DBG] Done attempting to validate the bound parameter 'newPointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO'.
2023-07-09 14:58:39.819 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 1042.5842ms
2023-07-09 14:58:39.822 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-07-09 14:58:39.825 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The entity type 'UriToStringConverter' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Sqlite.Infrastructure.Internal.SqliteModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.CityExistsAsync(Int32 cityId) in C:\education-and-training\CityInfo.API\Services\CityInfoRepository.cs:line 25
   at CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestForCreationDTO newPointOfInterest) in C:\education-and-training\CityInfo.API\Controllers\PointsOfInterestController.cs:line 66
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-09 14:58:39.995 +02:00 [DBG] Connection id "0HMS0FGRBANT2" completed keep alive response.
2023-07-09 14:58:40.007 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7018/api/cities/2/pointsofinterest application/json 132 - 500 - text/plain;+charset=utf-8 1341.8291ms
2023-07-09 15:37:21.673 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 15:37:21.772 +02:00 [DBG] Hosting starting
2023-07-09 15:37:21.997 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 15:37:22.071 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 15:37:22.073 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 15:37:22.075 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 15:37:22.076 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 15:37:22.077 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 15:37:22.077 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 15:37:22.078 +02:00 [INF] Hosting environment: Development
2023-07-09 15:37:22.079 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 15:37:22.080 +02:00 [DBG] Hosting started
2023-07-09 15:38:08.971 +02:00 [DBG] Connection id "0HMS0G6TPMJUN" received FIN.
2023-07-09 15:38:09.001 +02:00 [DBG] Connection id "0HMS0G6TPMJUN" accepted.
2023-07-09 15:38:09.010 +02:00 [DBG] Connection id "0HMS0G6TPMJUN" started.
2023-07-09 15:38:09.012 +02:00 [DBG] Connection id "0HMS0G6TPMJUO" accepted.
2023-07-09 15:38:09.015 +02:00 [DBG] Connection id "0HMS0G6TPMJUO" started.
2023-07-09 15:38:09.037 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 15:38:09.090 +02:00 [DBG] Connection 0HMS0G6TPMJUO established using the following protocol: "Tls13"
2023-07-09 15:38:09.120 +02:00 [DBG] Connection id "0HMS0G6TPMJUN" stopped.
2023-07-09 15:38:09.122 +02:00 [DBG] Connection id "0HMS0G6TPMJUN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 15:38:09.150 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - -
2023-07-09 15:38:09.163 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 15:38:09.196 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 15:38:09.220 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-07-09 15:38:09.226 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-07-09 15:38:09.229 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 15:38:09.232 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 15:38:09.262 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 15:38:09.264 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 15:38:09.265 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 15:38:09.266 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 15:38:09.268 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 15:38:09.270 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 15:38:09.271 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 15:38:09.440 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 15:38:09.595 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 15:38:09.604 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 15:38:09.607 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 15:38:09.610 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 15:38:09.611 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 15:38:09.620 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 15:38:09.622 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 15:38:09.625 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 15:38:09.627 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 15:38:09.639 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 15:38:09.641 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 15:38:09.642 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 15:38:09.656 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 15:38:10.352 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 15:38:10.423 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-07-09 15:38:10.516 +02:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-07-09 15:38:10.800 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 15:38:10.852 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:38:10.971 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (115ms).
2023-07-09 15:38:10.984 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:38:11.006 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:38:11.023 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 15:38:11.060 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 15:38:11.096 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:38:11.126 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:38:11.147 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:38:11.156 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:38:11.165 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:38:11.173 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:38:11.190 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 15:38:11.197 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 15:38:11.201 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 15:38:11.203 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 15:38:11.204 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 15:38:11.208 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-07-09 15:38:11.357 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 2081.8617ms
2023-07-09 15:38:11.359 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 15:38:11.360 +02:00 [DBG] Connection id "0HMS0G6TPMJUO" completed keep alive response.
2023-07-09 15:38:11.366 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 15:38:11.372 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - - - 200 331 application/json;+charset=utf-8 2225.9630ms
2023-07-09 15:39:03.050 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7018/api/cities/1/pointsofinterest/1 application/json 155
2023-07-09 15:39:03.051 +02:00 [DBG] PUT requests are not supported
2023-07-09 15:39:03.054 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-07-09 15:39:03.055 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-07-09 15:39:03.056 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-07-09 15:39:03.057 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-07-09 15:39:03.061 +02:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdatesDTO) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 15:39:03.063 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 15:39:03.065 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 15:39:03.066 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 15:39:03.067 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 15:39:03.073 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 15:39:03.080 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:39:03.089 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:39:03.100 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:39:03.102 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 15:39:03.104 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:39:03.117 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:39:03.118 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:39:03.126 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:39:03.127 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 15:39:03.128 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-07-09 15:39:03.130 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 15:39:03.133 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 15:39:03.143 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 15:39:03.144 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 15:39:03.145 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdatesDTO' ...
2023-07-09 15:39:03.149 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdatesDTO' using the name '' in request data ...
2023-07-09 15:39:03.159 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-09 15:39:03.161 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-09 15:39:03.171 +02:00 [DBG] Connection id "0HMS0G6TPMJUO", Request id "0HMS0G6TPMJUO:00000003": started reading request body.
2023-07-09 15:39:03.173 +02:00 [DBG] Connection id "0HMS0G6TPMJUO", Request id "0HMS0G6TPMJUO:00000003": done reading request body.
2023-07-09 15:39:03.211 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdatesDTO'.
2023-07-09 15:39:03.213 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdatesDTO'.
2023-07-09 15:39:03.214 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdatesDTO' ...
2023-07-09 15:39:03.220 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdatesDTO'.
2023-07-09 15:39:03.245 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 15:39:03.264 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-07-09 15:39:03.271 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 15:39:03.290 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:39:03.292 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-09 15:39:03.294 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:39:03.295 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:39:03.296 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:39:03.299 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:39:03.301 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:39:03.305 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:39:03.312 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:39:03.314 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-07-09 15:39:03.319 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 15:39:03.332 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:39:03.336 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-09 15:39:03.344 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:39:03.345 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:39:03.346 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 15:39:03.349 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 15:39:03.361 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:39:03.363 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:39:03.364 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:39:03.368 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:39:03.449 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 369.2179ms
2023-07-09 15:39:03.453 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-07-09 15:39:03.455 +02:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForUpdatesDTO -> PointOfInterest
CityInfo.API.Models.PointOfInterestForUpdatesDTO -> CityInfo.API.Entities.PointOfInterest
   at lambda_method119(Closure , PointOfInterestForUpdatesDTO , PointOfInterest , ResolutionContext )
   at CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointOfInterestId, PointOfInterestForUpdatesDTO pointOfInterest) in C:\education-and-training\CityInfo.API\Controllers\PointsOfInterestController.cs:line 95
   at lambda_method107(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-09 15:39:03.508 +02:00 [DBG] Connection id "0HMS0G6TPMJUO" completed keep alive response.
2023-07-09 15:39:03.510 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 15:39:03.515 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7018/api/cities/1/pointsofinterest/1 application/json 155 - 500 - text/plain;+charset=utf-8 465.7003ms
2023-07-09 15:39:54.955 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 15:39:55.049 +02:00 [DBG] Hosting starting
2023-07-09 15:39:55.196 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 15:39:55.313 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 15:39:55.316 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 15:39:55.318 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 15:39:55.319 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 15:39:55.320 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 15:39:55.321 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 15:39:55.322 +02:00 [INF] Hosting environment: Development
2023-07-09 15:39:55.322 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 15:39:55.323 +02:00 [DBG] Hosting started
2023-07-09 15:39:59.010 +02:00 [DBG] Connection id "0HMS0G7UJ429I" received FIN.
2023-07-09 15:39:59.019 +02:00 [DBG] Connection id "0HMS0G7UJ429I" accepted.
2023-07-09 15:39:59.024 +02:00 [DBG] Connection id "0HMS0G7UJ429I" started.
2023-07-09 15:39:59.025 +02:00 [DBG] Connection id "0HMS0G7UJ429J" accepted.
2023-07-09 15:39:59.028 +02:00 [DBG] Connection id "0HMS0G7UJ429J" started.
2023-07-09 15:39:59.040 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 15:39:59.083 +02:00 [DBG] Connection id "0HMS0G7UJ429I" stopped.
2023-07-09 15:39:59.086 +02:00 [DBG] Connection id "0HMS0G7UJ429I" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 15:39:59.088 +02:00 [DBG] Connection 0HMS0G7UJ429J established using the following protocol: "Tls13"
2023-07-09 15:39:59.120 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7018/api/cities/1/pointsofinterest/1 application/json 155
2023-07-09 15:39:59.132 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 15:39:59.149 +02:00 [DBG] PUT requests are not supported
2023-07-09 15:39:59.173 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-07-09 15:39:59.179 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-07-09 15:39:59.182 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-07-09 15:39:59.184 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-07-09 15:39:59.215 +02:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdatesDTO) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 15:39:59.218 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 15:39:59.219 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 15:39:59.220 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 15:39:59.222 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 15:39:59.223 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 15:39:59.225 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:39:59.350 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 15:39:59.502 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:39:59.509 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:39:59.512 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 15:39:59.513 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:39:59.514 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:39:59.515 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:39:59.517 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:39:59.523 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 15:39:59.528 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-07-09 15:39:59.529 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 15:39:59.530 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 15:39:59.532 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 15:39:59.534 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 15:39:59.545 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdatesDTO' ...
2023-07-09 15:39:59.546 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdatesDTO' using the name '' in request data ...
2023-07-09 15:39:59.548 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-09 15:39:59.551 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-09 15:39:59.566 +02:00 [DBG] Connection id "0HMS0G7UJ429J", Request id "0HMS0G7UJ429J:00000002": started reading request body.
2023-07-09 15:39:59.568 +02:00 [DBG] Connection id "0HMS0G7UJ429J", Request id "0HMS0G7UJ429J:00000002": done reading request body.
2023-07-09 15:39:59.693 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdatesDTO'.
2023-07-09 15:39:59.695 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdatesDTO'.
2023-07-09 15:39:59.696 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdatesDTO' ...
2023-07-09 15:39:59.701 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdatesDTO'.
2023-07-09 15:40:00.411 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 15:40:00.458 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-07-09 15:40:00.704 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 15:40:00.757 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:40:00.832 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (71ms).
2023-07-09 15:40:00.847 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:40:00.865 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:40:00.880 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:40:00.917 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:40:00.936 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:40:00.945 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:40:00.952 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:40:00.958 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-07-09 15:40:00.998 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 15:40:01.011 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:40:01.016 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-09 15:40:01.024 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:40:01.025 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:40:01.026 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 15:40:01.039 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 15:40:01.065 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:40:01.089 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:40:01.092 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:40:01.099 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:40:01.112 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-07-09 15:40:01.118 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 1889.161ms
2023-07-09 15:40:01.120 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-07-09 15:40:01.124 +02:00 [DBG] Connection id "0HMS0G7UJ429J" completed keep alive response.
2023-07-09 15:40:01.129 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 15:40:01.134 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7018/api/cities/1/pointsofinterest/1 application/json 155 - 204 - - 2016.8257ms
2023-07-09 15:40:19.980 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - -
2023-07-09 15:40:19.993 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 15:40:19.996 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-07-09 15:40:19.997 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-07-09 15:40:19.998 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 15:40:19.999 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 15:40:20.004 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 15:40:20.014 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 15:40:20.015 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 15:40:20.016 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 15:40:20.018 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 15:40:20.022 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 15:40:20.032 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 15:40:20.041 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 15:40:20.057 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 15:40:20.059 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 15:40:20.061 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 15:40:20.062 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 15:40:20.064 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 15:40:20.067 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 15:40:20.077 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 15:40:20.079 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 15:40:20.080 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 15:40:20.083 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 15:40:20.093 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 15:40:20.094 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 15:40:20.134 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 15:40:20.159 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-07-09 15:40:20.199 +02:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-07-09 15:40:20.293 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 15:40:20.299 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:40:20.300 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 15:40:20.302 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:40:20.303 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:40:20.305 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 15:40:20.308 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 15:40:20.313 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:40:20.323 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:40:20.335 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:40:20.339 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:40:20.340 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:40:20.349 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:40:20.357 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 15:40:20.364 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 15:40:20.367 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 15:40:20.376 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 15:40:20.377 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 15:40:20.378 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-07-09 15:40:20.427 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 394.5183ms
2023-07-09 15:40:20.429 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 15:40:20.430 +02:00 [DBG] Connection id "0HMS0G7UJ429J" completed keep alive response.
2023-07-09 15:40:20.431 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 15:40:20.432 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - - - 200 331 application/json;+charset=utf-8 451.5492ms
2023-07-09 15:40:58.347 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 15:40:58.441 +02:00 [DBG] Hosting starting
2023-07-09 15:40:58.590 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 15:40:58.655 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 15:40:58.658 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 15:40:58.660 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 15:40:58.661 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 15:40:58.662 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 15:40:58.663 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 15:40:58.664 +02:00 [INF] Hosting environment: Development
2023-07-09 15:40:58.665 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 15:40:58.666 +02:00 [DBG] Hosting started
2023-07-09 15:41:03.841 +02:00 [DBG] Connection id "0HMS0G8HTCPKM" received FIN.
2023-07-09 15:41:03.851 +02:00 [DBG] Connection id "0HMS0G8HTCPKM" accepted.
2023-07-09 15:41:03.854 +02:00 [DBG] Connection id "0HMS0G8HTCPKM" started.
2023-07-09 15:41:03.855 +02:00 [DBG] Connection id "0HMS0G8HTCPKN" accepted.
2023-07-09 15:41:03.859 +02:00 [DBG] Connection id "0HMS0G8HTCPKN" started.
2023-07-09 15:41:03.871 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 15:41:03.917 +02:00 [DBG] Connection id "0HMS0G8HTCPKM" stopped.
2023-07-09 15:41:03.919 +02:00 [DBG] Connection 0HMS0G8HTCPKN established using the following protocol: "Tls13"
2023-07-09 15:41:03.919 +02:00 [DBG] Connection id "0HMS0G8HTCPKM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 15:41:03.951 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7018/api/cities/1/pointsofinterest/1 application/json 155
2023-07-09 15:41:03.962 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 15:41:03.978 +02:00 [DBG] PUT requests are not supported
2023-07-09 15:41:04.001 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-07-09 15:41:04.008 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-07-09 15:41:04.012 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-07-09 15:41:04.014 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-07-09 15:41:04.045 +02:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdatesDTO) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 15:41:04.048 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 15:41:04.049 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 15:41:04.050 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 15:41:04.051 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 15:41:04.052 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 15:41:04.053 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:41:04.179 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 15:41:04.329 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:41:04.334 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:41:04.337 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 15:41:04.343 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:41:04.344 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:41:04.351 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:41:04.353 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:41:04.359 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 15:41:04.366 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-07-09 15:41:04.367 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 15:41:04.368 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 15:41:04.371 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 15:41:04.381 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 15:41:04.382 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdatesDTO' ...
2023-07-09 15:41:04.384 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdatesDTO' using the name '' in request data ...
2023-07-09 15:41:04.388 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-09 15:41:04.399 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-09 15:41:04.407 +02:00 [DBG] Connection id "0HMS0G8HTCPKN", Request id "0HMS0G8HTCPKN:00000002": started reading request body.
2023-07-09 15:41:04.409 +02:00 [DBG] Connection id "0HMS0G8HTCPKN", Request id "0HMS0G8HTCPKN:00000002": done reading request body.
2023-07-09 15:41:04.529 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdatesDTO'.
2023-07-09 15:41:04.531 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdatesDTO'.
2023-07-09 15:41:04.532 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdatesDTO' ...
2023-07-09 15:41:04.537 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdatesDTO'.
2023-07-09 15:41:05.261 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 15:41:05.307 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-07-09 15:41:05.554 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 15:41:05.612 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:41:05.684 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (68ms).
2023-07-09 15:41:05.699 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:41:05.716 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:41:05.732 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:41:05.759 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:41:05.772 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:41:05.783 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:41:05.791 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:41:05.795 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-07-09 15:41:05.836 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 15:41:05.853 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:41:05.856 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-09 15:41:05.864 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:41:05.869 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:41:05.870 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 15:41:05.881 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 15:41:05.903 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:41:05.927 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:41:05.928 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:41:05.931 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:41:05.957 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-07-09 15:41:05.962 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-07-09 15:41:05.975 +02:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-09 15:41:05.987 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:41:05.991 +02:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-09 15:41:05.996 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-07-09 15:41:06.020 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:41:06.022 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:41:06.028 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-09 15:41:06.044 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-07-09 15:41:06.086 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:41:06.090 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-09 15:41:06.097 +02:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 90), @p1='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointOfInterests" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2023-07-09 15:41:06.101 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 90), @p1='?' (Size = 24)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointOfInterests" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2023-07-09 15:41:06.110 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:41:06.120 +02:00 [DBG] Committing transaction.
2023-07-09 15:41:06.126 +02:00 [DBG] Committed transaction.
2023-07-09 15:41:06.132 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:41:06.135 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:41:06.140 +02:00 [DBG] Disposing transaction.
2023-07-09 15:41:06.154 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:41:06.162 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-07-09 15:41:06.172 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-07-09 15:41:06.178 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 2120.804ms
2023-07-09 15:41:06.182 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-07-09 15:41:06.185 +02:00 [DBG] Connection id "0HMS0G8HTCPKN" completed keep alive response.
2023-07-09 15:41:06.196 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 15:41:06.202 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7018/api/cities/1/pointsofinterest/1 application/json 155 - 204 - - 2254.4353ms
2023-07-09 15:41:13.564 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - -
2023-07-09 15:41:13.574 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 15:41:13.576 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-07-09 15:41:13.577 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-07-09 15:41:13.579 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 15:41:13.580 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 15:41:13.583 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 15:41:13.596 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 15:41:13.597 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 15:41:13.598 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 15:41:13.610 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 15:41:13.612 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 15:41:13.614 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 15:41:13.621 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 15:41:13.628 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-07-09 15:41:13.630 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-07-09 15:41:13.633 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 15:41:13.634 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-07-09 15:41:13.642 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-07-09 15:41:13.643 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-07-09 15:41:13.644 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 15:41:13.646 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-07-09 15:41:13.650 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 15:41:13.658 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 15:41:13.659 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 15:41:13.660 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 15:41:13.667 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 15:41:13.683 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-07-09 15:41:13.702 +02:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-07-09 15:41:13.791 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 15:41:13.798 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:41:13.799 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 15:41:13.800 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:41:13.801 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:41:13.808 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 15:41:13.811 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-07-09 15:41:13.815 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:41:13.826 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:41:13.835 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:41:13.838 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:41:13.839 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:41:13.854 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:41:13.861 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 15:41:13.876 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 15:41:13.883 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 15:41:13.884 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 15:41:13.895 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 15:41:13.897 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-07-09 15:41:13.952 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 338.5458ms
2023-07-09 15:41:13.954 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-07-09 15:41:13.958 +02:00 [DBG] Connection id "0HMS0G8HTCPKN" completed keep alive response.
2023-07-09 15:41:13.959 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 15:41:13.960 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1?includePointsOfInterest=true - - - 200 384 application/json;+charset=utf-8 396.8126ms
2023-07-09 15:55:05.103 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 15:55:05.198 +02:00 [DBG] Hosting starting
2023-07-09 15:55:05.341 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 15:55:05.408 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 15:55:05.411 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 15:55:05.412 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 15:55:05.413 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 15:55:05.414 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 15:55:05.414 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 15:55:05.416 +02:00 [INF] Hosting environment: Development
2023-07-09 15:55:05.416 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 15:55:05.417 +02:00 [DBG] Hosting started
2023-07-09 15:55:29.975 +02:00 [DBG] Connection id "0HMS0GGK1G0M6" received FIN.
2023-07-09 15:55:30.002 +02:00 [DBG] Connection id "0HMS0GGK1G0M6" accepted.
2023-07-09 15:55:30.010 +02:00 [DBG] Connection id "0HMS0GGK1G0M6" started.
2023-07-09 15:55:30.013 +02:00 [DBG] Connection id "0HMS0GGK1G0M7" accepted.
2023-07-09 15:55:30.017 +02:00 [DBG] Connection id "0HMS0GGK1G0M7" started.
2023-07-09 15:55:30.038 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 15:55:30.099 +02:00 [DBG] Connection 0HMS0GGK1G0M7 established using the following protocol: "Tls13"
2023-07-09 15:55:30.099 +02:00 [DBG] Connection id "0HMS0GGK1G0M6" stopped.
2023-07-09 15:55:30.104 +02:00 [DBG] Connection id "0HMS0GGK1G0M6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 15:55:30.132 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/3/pointsofinterest - -
2023-07-09 15:55:30.145 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 15:55:30.178 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 15:55:30.202 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-07-09 15:55:30.209 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-07-09 15:55:30.211 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 15:55:30.214 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 15:55:30.244 +02:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDTO]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 15:55:30.247 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 15:55:30.248 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 15:55:30.249 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 15:55:30.251 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 15:55:30.252 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 15:55:30.253 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:55:30.380 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 15:55:30.532 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:55:30.537 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:55:30.539 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 15:55:30.542 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:55:30.543 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:55:30.547 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:55:30.556 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:55:31.258 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 15:55:31.305 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-07-09 15:55:31.543 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 15:55:31.595 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:55:31.663 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (63ms).
2023-07-09 15:55:31.677 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:55:31.696 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:55:31.713 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:55:31.763 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:55:31.775 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:55:31.784 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:55:31.790 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:55:31.799 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-07-09 15:55:31.833 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 15:55:31.842 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:55:31.844 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-09 15:55:31.847 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:55:31.848 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:55:31.851 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-07-09 15:55:31.863 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-07-09 15:55:31.898 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:55:31.921 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:55:31.924 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:55:31.925 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:55:31.936 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:55:31.937 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:55:31.963 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 15:55:31.969 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 15:55:31.970 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 15:55:31.971 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 15:55:31.973 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 15:55:31.975 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 15:55:32.114 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 1855.6755ms
2023-07-09 15:55:32.117 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 15:55:32.118 +02:00 [DBG] Connection id "0HMS0GGK1G0M7" completed keep alive response.
2023-07-09 15:55:32.123 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 15:55:32.130 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/3/pointsofinterest - - - 200 317 application/json;+charset=utf-8 2000.6115ms
2023-07-09 15:56:23.815 +02:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7018/api/cities/3/pointsofinterest/3 application/json 123
2023-07-09 15:56:23.817 +02:00 [DBG] PATCH requests are not supported
2023-07-09 15:56:23.819 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/3'
2023-07-09 15:56:23.820 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/3/pointsofinterest/3'
2023-07-09 15:56:23.821 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-07-09 15:56:23.822 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-07-09 15:56:23.828 +02:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 15:56:23.841 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 15:56:23.843 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 15:56:23.844 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 15:56:23.855 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 15:56:23.858 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 15:56:23.859 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:56:23.869 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:56:23.881 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:56:23.883 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 15:56:23.884 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:56:23.885 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:56:23.887 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:56:23.888 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:56:23.889 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 15:56:23.891 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-07-09 15:56:23.892 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 15:56:23.895 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 15:56:23.904 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 15:56:23.905 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 15:56:23.907 +02:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]' ...
2023-07-09 15:56:23.912 +02:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]' using the name '' in request data ...
2023-07-09 15:56:23.923 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-09 15:56:23.924 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-09 15:56:23.944 +02:00 [DBG] Connection id "0HMS0GGK1G0M7", Request id "0HMS0GGK1G0M7:00000003": started reading request body.
2023-07-09 15:56:23.948 +02:00 [DBG] Connection id "0HMS0GGK1G0M7", Request id "0HMS0GGK1G0M7:00000003": done reading request body.
2023-07-09 15:56:24.008 +02:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]'.
2023-07-09 15:56:24.010 +02:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]'.
2023-07-09 15:56:24.011 +02:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]' ...
2023-07-09 15:56:24.017 +02:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]'.
2023-07-09 15:56:24.055 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 15:56:24.074 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:56:24.075 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 15:56:24.076 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:56:24.080 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:56:24.089 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:56:24.091 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:56:24.103 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:56:24.105 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:56:24.106 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:56:24.110 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-07-09 15:56:24.127 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 15:56:24.141 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:56:24.143 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-09 15:56:24.148 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:56:24.150 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:56:24.151 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 15:56:24.153 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 15:56:24.163 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:56:24.166 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:56:24.167 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:56:24.168 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:56:24.181 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-07-09 15:56:24.183 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 323.5705ms
2023-07-09 15:56:24.184 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-07-09 15:56:24.185 +02:00 [DBG] Connection id "0HMS0GGK1G0M7" completed keep alive response.
2023-07-09 15:56:24.190 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 15:56:24.198 +02:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7018/api/cities/3/pointsofinterest/3 application/json 123 - 204 - - 383.5011ms
2023-07-09 15:56:33.435 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/3/pointsofinterest - -
2023-07-09 15:56:33.439 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 15:56:33.440 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-07-09 15:56:33.441 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-07-09 15:56:33.447 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 15:56:33.449 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 15:56:33.452 +02:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDTO]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 15:56:33.456 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 15:56:33.458 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 15:56:33.462 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 15:56:33.473 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 15:56:33.474 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 15:56:33.477 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:56:33.489 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:56:33.490 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:56:33.491 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 15:56:33.494 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:56:33.504 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:56:33.505 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:56:33.506 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:56:33.547 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 15:56:33.550 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:56:33.551 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 15:56:33.552 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:56:33.553 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:56:33.555 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:56:33.557 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:56:33.560 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:56:33.561 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:56:33.562 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:56:33.564 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:56:33.565 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 15:56:33.566 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:56:33.567 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:56:33.569 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-07-09 15:56:33.579 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-07-09 15:56:33.583 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:56:33.587 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:56:33.596 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:56:33.598 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:56:33.599 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:56:33.600 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:56:33.603 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 15:56:33.615 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 15:56:33.616 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 15:56:33.618 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 15:56:33.630 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 15:56:33.631 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 15:56:33.635 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 157.5707ms
2023-07-09 15:56:33.643 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 15:56:33.644 +02:00 [DBG] Connection id "0HMS0GGK1G0M7" completed keep alive response.
2023-07-09 15:56:33.645 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 15:56:33.647 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/3/pointsofinterest - - - 200 317 application/json;+charset=utf-8 211.1910ms
2023-07-09 15:56:53.319 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 15:56:53.414 +02:00 [DBG] Hosting starting
2023-07-09 15:56:53.571 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 15:56:53.638 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 15:56:53.640 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 15:56:53.641 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 15:56:53.642 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 15:56:53.643 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 15:56:53.644 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 15:56:53.645 +02:00 [INF] Hosting environment: Development
2023-07-09 15:56:53.646 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 15:56:53.647 +02:00 [DBG] Hosting started
2023-07-09 15:57:02.060 +02:00 [DBG] Connection id "0HMS0GHFFLSUT" received FIN.
2023-07-09 15:57:02.069 +02:00 [DBG] Connection id "0HMS0GHFFLSUT" accepted.
2023-07-09 15:57:02.072 +02:00 [DBG] Connection id "0HMS0GHFFLSUT" started.
2023-07-09 15:57:02.079 +02:00 [DBG] Connection id "0HMS0GHFFLSUU" accepted.
2023-07-09 15:57:02.081 +02:00 [DBG] Connection id "0HMS0GHFFLSUU" started.
2023-07-09 15:57:02.093 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 15:57:02.137 +02:00 [DBG] Connection id "0HMS0GHFFLSUT" stopped.
2023-07-09 15:57:02.139 +02:00 [DBG] Connection 0HMS0GHFFLSUU established using the following protocol: "Tls13"
2023-07-09 15:57:02.139 +02:00 [DBG] Connection id "0HMS0GHFFLSUT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 15:57:02.171 +02:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7018/api/cities/3/pointsofinterest/3 application/json 123
2023-07-09 15:57:02.182 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 15:57:02.199 +02:00 [DBG] PATCH requests are not supported
2023-07-09 15:57:02.223 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/3'
2023-07-09 15:57:02.230 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/3/pointsofinterest/3'
2023-07-09 15:57:02.233 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-07-09 15:57:02.235 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-07-09 15:57:02.266 +02:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 15:57:02.268 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 15:57:02.269 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 15:57:02.271 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 15:57:02.272 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 15:57:02.273 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 15:57:02.274 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:57:02.401 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 15:57:02.555 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:57:02.561 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:57:02.564 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 15:57:02.566 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:57:02.567 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:57:02.568 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:57:02.570 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:57:02.573 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 15:57:02.575 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-07-09 15:57:02.583 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 15:57:02.584 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 15:57:02.585 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 15:57:02.587 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 15:57:02.588 +02:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]' ...
2023-07-09 15:57:02.591 +02:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]' using the name '' in request data ...
2023-07-09 15:57:02.600 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-09 15:57:02.601 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-09 15:57:02.609 +02:00 [DBG] Connection id "0HMS0GHFFLSUU", Request id "0HMS0GHFFLSUU:00000002": started reading request body.
2023-07-09 15:57:02.611 +02:00 [DBG] Connection id "0HMS0GHFFLSUU", Request id "0HMS0GHFFLSUU:00000002": done reading request body.
2023-07-09 15:57:02.761 +02:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]'.
2023-07-09 15:57:02.764 +02:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]'.
2023-07-09 15:57:02.766 +02:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]' ...
2023-07-09 15:57:02.771 +02:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]'.
2023-07-09 15:57:03.474 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 15:57:03.520 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-07-09 15:57:03.769 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 15:57:03.823 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:57:03.899 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (70ms).
2023-07-09 15:57:03.912 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:57:03.930 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:57:03.947 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:57:03.982 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:57:03.994 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:57:04.004 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:57:04.011 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:57:04.018 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-07-09 15:57:04.074 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 15:57:04.087 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:57:04.089 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 15:57:04.090 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:57:04.091 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:57:04.092 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 15:57:04.095 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 15:57:04.117 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:57:04.140 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:57:04.141 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:57:04.142 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:57:04.172 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-07-09 15:57:04.177 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-07-09 15:57:04.191 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-07-09 15:57:04.196 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 0 entities written to the database.
2023-07-09 15:57:04.203 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-07-09 15:57:04.211 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 1932.7221ms
2023-07-09 15:57:04.213 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-07-09 15:57:04.217 +02:00 [DBG] Connection id "0HMS0GHFFLSUU" completed keep alive response.
2023-07-09 15:57:04.223 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 15:57:04.227 +02:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7018/api/cities/3/pointsofinterest/3 application/json 123 - 204 - - 2059.1298ms
2023-07-09 15:57:07.716 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/3/pointsofinterest - -
2023-07-09 15:57:07.726 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 15:57:07.728 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-07-09 15:57:07.729 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-07-09 15:57:07.731 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 15:57:07.733 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 15:57:07.736 +02:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDTO]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 15:57:07.749 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 15:57:07.754 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 15:57:07.755 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 15:57:07.767 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 15:57:07.771 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 15:57:07.783 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:57:07.791 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:57:07.794 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:57:07.795 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 15:57:07.796 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:57:07.798 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:57:07.802 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:57:07.811 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:57:07.815 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 15:57:07.833 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:57:07.834 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 15:57:07.837 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:57:07.838 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:57:07.839 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:57:07.841 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:57:07.843 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:57:07.844 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:57:07.849 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:57:07.860 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-07-09 15:57:07.878 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 15:57:07.893 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:57:07.908 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2023-07-09 15:57:07.910 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:57:07.912 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:57:07.922 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-07-09 15:57:07.934 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-07-09 15:57:07.951 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:57:07.952 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:57:07.953 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:57:07.954 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:57:07.957 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:57:07.966 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:57:07.976 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 15:57:07.982 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 15:57:07.983 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 15:57:07.984 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 15:57:07.985 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 15:57:07.987 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 15:57:08.036 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 252.7415ms
2023-07-09 15:57:08.038 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 15:57:08.039 +02:00 [DBG] Connection id "0HMS0GHFFLSUU" completed keep alive response.
2023-07-09 15:57:08.040 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 15:57:08.041 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/3/pointsofinterest - - - 200 317 application/json;+charset=utf-8 324.7888ms
2023-07-09 15:58:32.247 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 15:58:32.339 +02:00 [DBG] Hosting starting
2023-07-09 15:58:32.489 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 15:58:32.555 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 15:58:32.556 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 15:58:32.558 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 15:58:32.558 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 15:58:32.560 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 15:58:32.560 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 15:58:32.562 +02:00 [INF] Hosting environment: Development
2023-07-09 15:58:32.562 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 15:58:32.563 +02:00 [DBG] Hosting started
2023-07-09 15:58:38.672 +02:00 [DBG] Connection id "0HMS0GIC91N88" received FIN.
2023-07-09 15:58:38.681 +02:00 [DBG] Connection id "0HMS0GIC91N88" accepted.
2023-07-09 15:58:38.686 +02:00 [DBG] Connection id "0HMS0GIC91N88" started.
2023-07-09 15:58:38.687 +02:00 [DBG] Connection id "0HMS0GIC91N89" accepted.
2023-07-09 15:58:38.689 +02:00 [DBG] Connection id "0HMS0GIC91N89" started.
2023-07-09 15:58:38.701 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 15:58:38.746 +02:00 [DBG] Connection id "0HMS0GIC91N88" stopped.
2023-07-09 15:58:38.747 +02:00 [DBG] Connection 0HMS0GIC91N89 established using the following protocol: "Tls13"
2023-07-09 15:58:38.748 +02:00 [DBG] Connection id "0HMS0GIC91N88" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 15:58:38.779 +02:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7018/api/cities/3/pointsofinterest/3 application/json 123
2023-07-09 15:58:38.791 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 15:58:38.809 +02:00 [DBG] PATCH requests are not supported
2023-07-09 15:58:38.834 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/3'
2023-07-09 15:58:38.840 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/3/pointsofinterest/3'
2023-07-09 15:58:38.842 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-07-09 15:58:38.845 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-07-09 15:58:38.876 +02:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 15:58:38.879 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 15:58:38.880 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 15:58:38.881 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 15:58:38.883 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 15:58:38.884 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 15:58:38.886 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:58:39.015 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 15:58:39.169 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:58:39.174 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:58:39.176 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 15:58:39.179 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:58:39.181 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:58:39.182 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:58:39.186 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:58:39.188 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 15:58:39.189 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-07-09 15:58:39.190 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 15:58:39.191 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 15:58:39.195 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 15:58:39.203 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 15:58:39.204 +02:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]' ...
2023-07-09 15:58:39.206 +02:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]' using the name '' in request data ...
2023-07-09 15:58:39.208 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-09 15:58:39.210 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-09 15:58:39.225 +02:00 [DBG] Connection id "0HMS0GIC91N89", Request id "0HMS0GIC91N89:00000002": started reading request body.
2023-07-09 15:58:39.227 +02:00 [DBG] Connection id "0HMS0GIC91N89", Request id "0HMS0GIC91N89:00000002": done reading request body.
2023-07-09 15:58:39.372 +02:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]'.
2023-07-09 15:58:39.374 +02:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]'.
2023-07-09 15:58:39.375 +02:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]' ...
2023-07-09 15:58:39.380 +02:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdatesDTO]'.
2023-07-09 15:58:40.089 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 15:58:40.135 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-07-09 15:58:40.389 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 15:58:40.442 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:58:40.578 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (132ms).
2023-07-09 15:58:40.593 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:58:40.609 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:58:40.626 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:58:40.664 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:58:40.680 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:58:40.690 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:58:40.697 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:58:40.703 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-07-09 15:58:40.740 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 15:58:40.754 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:58:40.759 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-09 15:58:40.764 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:58:40.765 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:58:40.768 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 15:58:40.772 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 15:58:40.794 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:58:40.817 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:58:40.820 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:58:40.828 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:58:40.850 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-07-09 15:58:40.855 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-07-09 15:58:40.868 +02:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-09 15:58:40.878 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:58:40.884 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-07-09 15:58:40.912 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:58:40.914 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:58:40.917 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-09 15:58:40.938 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-07-09 15:58:40.982 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:58:40.985 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-09 15:58:40.986 +02:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointOfInterests" SET "Name" = @p0
WHERE "Id" = @p1;
SELECT changes();
2023-07-09 15:58:40.991 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointOfInterests" SET "Name" = @p0
WHERE "Id" = @p1;
SELECT changes();
2023-07-09 15:58:40.997 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:58:41.005 +02:00 [DBG] Committing transaction.
2023-07-09 15:58:41.011 +02:00 [DBG] Committed transaction.
2023-07-09 15:58:41.018 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:58:41.022 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:58:41.026 +02:00 [DBG] Disposing transaction.
2023-07-09 15:58:41.036 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:58:41.044 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-07-09 15:58:41.051 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-07-09 15:58:41.059 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 2169.4918ms
2023-07-09 15:58:41.061 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-07-09 15:58:41.064 +02:00 [DBG] Connection id "0HMS0GIC91N89" completed keep alive response.
2023-07-09 15:58:41.071 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 15:58:41.077 +02:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7018/api/cities/3/pointsofinterest/3 application/json 123 - 204 - - 2300.3156ms
2023-07-09 15:58:45.570 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/3/pointsofinterest - -
2023-07-09 15:58:45.580 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 15:58:45.582 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-07-09 15:58:45.584 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-07-09 15:58:45.596 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 15:58:45.606 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 15:58:45.611 +02:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDTO]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 15:58:45.619 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 15:58:45.621 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 15:58:45.622 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 15:58:45.623 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 15:58:45.627 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 15:58:45.637 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:58:45.645 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 15:58:45.647 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:58:45.649 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 15:58:45.652 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:58:45.653 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:58:45.654 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 15:58:45.655 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 15:58:45.681 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 15:58:45.692 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:58:45.696 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-09 15:58:45.697 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:58:45.699 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:58:45.700 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:58:45.711 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 15:58:45.715 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:58:45.716 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:58:45.718 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:58:45.726 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-07-09 15:58:45.731 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 15:58:45.744 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 15:58:45.745 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 15:58:45.747 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:58:45.748 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:58:45.749 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-07-09 15:58:45.759 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-07-09 15:58:45.763 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:58:45.764 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:58:45.768 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 15:58:45.777 +02:00 [DBG] A data reader was disposed.
2023-07-09 15:58:45.778 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 15:58:45.779 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 15:58:45.790 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 15:58:45.795 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 15:58:45.796 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 15:58:45.798 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 15:58:45.809 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 15:58:45.810 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 15:58:45.851 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 213.8376ms
2023-07-09 15:58:45.854 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 15:58:45.856 +02:00 [DBG] Connection id "0HMS0GIC91N89" completed keep alive response.
2023-07-09 15:58:45.857 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 15:58:45.860 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/3/pointsofinterest - - - 200 349 application/json;+charset=utf-8 290.0317ms
2023-07-09 16:20:44.618 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 16:20:44.708 +02:00 [DBG] Hosting starting
2023-07-09 16:20:44.852 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 16:20:44.919 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 16:20:44.921 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 16:20:44.923 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 16:20:44.924 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 16:20:44.925 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 16:20:44.925 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 16:20:44.926 +02:00 [INF] Hosting environment: Development
2023-07-09 16:20:44.927 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 16:20:44.928 +02:00 [DBG] Hosting started
2023-07-09 16:21:36.303 +02:00 [DBG] Connection id "0HMS0GV6R55LQ" received FIN.
2023-07-09 16:21:36.328 +02:00 [DBG] Connection id "0HMS0GV6R55LQ" accepted.
2023-07-09 16:21:36.337 +02:00 [DBG] Connection id "0HMS0GV6R55LQ" started.
2023-07-09 16:21:36.339 +02:00 [DBG] Connection id "0HMS0GV6R55LR" accepted.
2023-07-09 16:21:36.341 +02:00 [DBG] Connection id "0HMS0GV6R55LR" started.
2023-07-09 16:21:36.364 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 16:21:36.424 +02:00 [DBG] Connection id "0HMS0GV6R55LQ" stopped.
2023-07-09 16:21:36.425 +02:00 [DBG] Connection 0HMS0GV6R55LR established using the following protocol: "Tls13"
2023-07-09 16:21:36.427 +02:00 [DBG] Connection id "0HMS0GV6R55LQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 16:21:36.459 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest - -
2023-07-09 16:21:36.471 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 16:21:36.506 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 16:21:36.530 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-07-09 16:21:36.537 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-07-09 16:21:36.540 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 16:21:36.542 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 16:21:36.574 +02:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDTO]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 16:21:36.577 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 16:21:36.578 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 16:21:36.579 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 16:21:36.581 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 16:21:36.582 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 16:21:36.584 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 16:21:36.712 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 16:21:36.867 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 16:21:36.874 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 16:21:36.877 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 16:21:36.878 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 16:21:36.881 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 16:21:36.889 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 16:21:36.891 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 16:21:37.602 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 16:21:37.648 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-07-09 16:21:37.895 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 16:21:37.949 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 16:21:38.021 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (67ms).
2023-07-09 16:21:38.034 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 16:21:38.052 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 16:21:38.068 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 16:21:38.095 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 16:21:38.107 +02:00 [DBG] A data reader was disposed.
2023-07-09 16:21:38.115 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 16:21:38.123 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 16:21:38.130 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-07-09 16:21:38.174 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 16:21:38.187 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 16:21:38.192 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-09 16:21:38.198 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 16:21:38.199 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 16:21:38.200 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-07-09 16:21:38.206 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-07-09 16:21:38.229 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 16:21:38.252 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 16:21:38.255 +02:00 [DBG] A data reader was disposed.
2023-07-09 16:21:38.258 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 16:21:38.260 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 16:21:38.276 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 16:21:38.282 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 16:21:38.284 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 16:21:38.285 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 16:21:38.296 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 16:21:38.297 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 16:21:38.438 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 1850.0479ms
2023-07-09 16:21:38.442 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 16:21:38.444 +02:00 [DBG] Connection id "0HMS0GV6R55LR" completed keep alive response.
2023-07-09 16:21:38.450 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 16:21:38.458 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest - - - 200 260 application/json;+charset=utf-8 2001.7374ms
2023-07-09 16:21:57.502 +02:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7018/api/cities/1/pointsofinterest/1 - -
2023-07-09 16:21:57.505 +02:00 [DBG] DELETE requests are not supported
2023-07-09 16:21:57.508 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-07-09 16:21:57.509 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-07-09 16:21:57.511 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-07-09 16:21:57.512 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-07-09 16:21:57.515 +02:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 16:21:57.526 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 16:21:57.527 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 16:21:57.528 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 16:21:57.540 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 16:21:57.542 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 16:21:57.544 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 16:21:57.553 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 16:21:57.565 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 16:21:57.566 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 16:21:57.578 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 16:21:57.579 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 16:21:57.589 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 16:21:57.590 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 16:21:57.593 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 16:21:57.601 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-07-09 16:21:57.603 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 16:21:57.605 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 16:21:57.606 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-07-09 16:21:57.607 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-07-09 16:21:57.626 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 16:21:57.658 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 16:21:57.659 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 16:21:57.660 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 16:21:57.661 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 16:21:57.663 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 16:21:57.665 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 16:21:57.667 +02:00 [DBG] A data reader was disposed.
2023-07-09 16:21:57.673 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 16:21:57.680 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 16:21:57.683 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-07-09 16:21:57.699 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-09 16:21:57.717 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 16:21:57.720 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-09 16:21:57.726 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 16:21:57.727 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 16:21:57.728 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 16:21:57.740 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-07-09 16:21:57.744 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 16:21:57.745 +02:00 [DBG] A data reader was disposed.
2023-07-09 16:21:57.749 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 16:21:57.758 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 16:21:57.773 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 16:21:57.784 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-07-09 16:21:57.789 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-07-09 16:21:57.804 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-07-09 16:21:57.825 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 16:21:57.828 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 16:21:57.833 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-09 16:21:57.839 +02:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-07-09 16:21:57.887 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 16:21:57.889 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 16:21:57.891 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointOfInterests"
WHERE "Id" = @p0;
SELECT changes();
2023-07-09 16:21:57.893 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointOfInterests"
WHERE "Id" = @p0;
SELECT changes();
2023-07-09 16:21:57.899 +02:00 [DBG] A data reader was disposed.
2023-07-09 16:21:57.907 +02:00 [DBG] Committing transaction.
2023-07-09 16:21:57.913 +02:00 [DBG] Committed transaction.
2023-07-09 16:21:57.919 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 16:21:57.923 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 16:21:57.928 +02:00 [DBG] Disposing transaction.
2023-07-09 16:21:57.940 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 16:21:57.944 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-07-09 16:21:57.949 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-07-09 16:21:57.950 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 406.7273ms
2023-07-09 16:21:57.959 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-07-09 16:21:57.961 +02:00 [DBG] Connection id "0HMS0GV6R55LR" completed keep alive response.
2023-07-09 16:21:57.962 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 16:21:57.965 +02:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7018/api/cities/1/pointsofinterest/1 - - - 204 - - 462.8949ms
2023-07-09 16:22:03.624 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest - -
2023-07-09 16:22:03.626 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 16:22:03.627 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-07-09 16:22:03.628 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-07-09 16:22:03.631 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 16:22:03.632 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 16:22:03.634 +02:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDTO]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-07-09 16:22:03.645 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 16:22:03.647 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 16:22:03.648 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 16:22:03.650 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 16:22:03.655 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 16:22:03.662 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 16:22:03.665 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-07-09 16:22:03.667 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-07-09 16:22:03.678 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-07-09 16:22:03.680 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 16:22:03.681 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-07-09 16:22:03.684 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-07-09 16:22:03.694 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-07-09 16:22:03.734 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 16:22:03.740 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 16:22:03.740 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 16:22:03.742 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 16:22:03.743 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 16:22:03.744 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 16:22:03.755 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-07-09 16:22:03.759 +02:00 [DBG] A data reader was disposed.
2023-07-09 16:22:03.760 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 16:22:03.764 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 16:22:03.772 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 16:22:03.773 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 16:22:03.774 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 16:22:03.777 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 16:22:03.786 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-07-09 16:22:03.790 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-07-09 16:22:03.800 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 16:22:03.802 +02:00 [DBG] A data reader was disposed.
2023-07-09 16:22:03.804 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 16:22:03.805 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 16:22:03.808 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 16:22:03.817 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 16:22:03.818 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 16:22:03.821 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 16:22:03.824 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 16:22:03.832 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 16:22:03.833 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 170.851ms
2023-07-09 16:22:03.834 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-07-09 16:22:03.836 +02:00 [DBG] Connection id "0HMS0GV6R55LR" completed keep alive response.
2023-07-09 16:22:03.840 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 16:22:03.847 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities/1/pointsofinterest - - - 200 110 application/json;+charset=utf-8 223.6846ms
2023-07-09 18:09:43.470 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 18:09:43.574 +02:00 [DBG] Hosting starting
2023-07-09 18:09:43.840 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 18:09:43.921 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 18:09:43.923 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 18:09:43.924 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 18:09:43.925 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 18:09:43.926 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 18:09:43.927 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 18:09:43.928 +02:00 [INF] Hosting environment: Development
2023-07-09 18:09:43.929 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 18:09:43.929 +02:00 [DBG] Hosting started
2023-07-09 18:09:44.263 +02:00 [DBG] Connection id "0HMS0IRKD5GTE" received FIN.
2023-07-09 18:09:44.272 +02:00 [DBG] Connection id "0HMS0IRKD5GTE" accepted.
2023-07-09 18:09:44.275 +02:00 [DBG] Connection id "0HMS0IRKD5GTE" started.
2023-07-09 18:09:44.277 +02:00 [DBG] Connection id "0HMS0IRKD5GTF" accepted.
2023-07-09 18:09:44.279 +02:00 [DBG] Connection id "0HMS0IRKD5GTF" started.
2023-07-09 18:09:44.291 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 18:09:44.351 +02:00 [DBG] Connection 0HMS0IRKD5GTF established using the following protocol: "Tls13"
2023-07-09 18:09:44.381 +02:00 [DBG] Connection id "0HMS0IRKD5GTE" stopped.
2023-07-09 18:09:44.383 +02:00 [DBG] Connection id "0HMS0IRKD5GTE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 18:09:44.410 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities - -
2023-07-09 18:09:44.423 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 18:09:44.458 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 18:09:44.482 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-07-09 18:09:44.490 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-07-09 18:09:44.492 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:09:44.494 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:09:44.525 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCities(Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 18:09:44.528 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 18:09:44.529 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 18:09:44.530 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 18:09:44.532 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 18:09:44.533 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 18:09:44.534 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 18:09:44.714 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 18:09:44.874 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 18:09:44.879 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 18:09:44.882 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-07-09 18:09:44.883 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:09:44.884 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:09:44.885 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:09:44.886 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 18:09:44.890 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:09:45.595 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 18:09:45.639 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-07-09 18:09:45.910 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 18:09:45.952 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 18:09:46.078 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (122ms).
2023-07-09 18:09:46.090 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 18:09:46.108 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 18:09:46.120 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 18:09:46.142 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 18:09:46.161 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 18:09:46.182 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 18:09:46.183 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 18:09:46.191 +02:00 [DBG] A data reader was disposed.
2023-07-09 18:09:46.197 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 18:09:46.203 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 18:09:46.219 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 18:09:46.226 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 18:09:46.227 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 18:09:46.229 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 18:09:46.230 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 18:09:46.231 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 18:09:46.381 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1843.3088ms
2023-07-09 18:09:46.384 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:09:46.385 +02:00 [DBG] Connection id "0HMS0IRKD5GTF" completed keep alive response.
2023-07-09 18:09:46.391 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 18:09:46.397 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities - - - 200 246 application/json;+charset=utf-8 1989.8309ms
2023-07-09 18:09:57.780 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities?name=Antwerp - -
2023-07-09 18:09:57.782 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 18:09:57.785 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-07-09 18:09:57.787 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-07-09 18:09:57.789 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:09:57.790 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:09:57.791 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCities(Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 18:09:57.795 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 18:09:57.796 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 18:09:57.797 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 18:09:57.799 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 18:09:57.800 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 18:09:57.801 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 18:09:57.809 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 18:09:57.815 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 18:09:57.817 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-07-09 18:09:57.819 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:09:57.821 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:09:57.823 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:09:57.824 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 18:09:57.825 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:09:57.828 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 18:09:57.842 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 18:09:57.843 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 18:09:57.844 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 18:09:57.845 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 18:09:57.846 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 18:09:57.847 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 18:09:57.849 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 18:09:57.851 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 18:09:57.852 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 18:09:57.853 +02:00 [DBG] A data reader was disposed.
2023-07-09 18:09:57.854 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 18:09:57.856 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 18:09:57.857 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 18:09:57.859 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 18:09:57.859 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 18:09:57.860 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 18:09:57.861 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 18:09:57.862 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 18:09:57.863 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 61.5002ms
2023-07-09 18:09:57.864 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:09:57.865 +02:00 [DBG] Connection id "0HMS0IRKD5GTF" completed keep alive response.
2023-07-09 18:09:57.867 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 18:09:57.867 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities?name=Antwerp - - - 200 246 application/json;+charset=utf-8 87.3496ms
2023-07-09 18:11:05.251 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 18:11:05.344 +02:00 [DBG] Hosting starting
2023-07-09 18:11:05.485 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 18:11:05.545 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 18:11:05.548 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 18:11:05.549 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 18:11:05.550 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 18:11:05.550 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 18:11:05.551 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 18:11:05.552 +02:00 [INF] Hosting environment: Development
2023-07-09 18:11:05.553 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 18:11:05.554 +02:00 [DBG] Hosting started
2023-07-09 18:11:09.396 +02:00 [DBG] Connection id "0HMS0ISDP24GH" received FIN.
2023-07-09 18:11:09.408 +02:00 [DBG] Connection id "0HMS0ISDP24GH" accepted.
2023-07-09 18:11:09.412 +02:00 [DBG] Connection id "0HMS0ISDP24GH" started.
2023-07-09 18:11:09.414 +02:00 [DBG] Connection id "0HMS0ISDP24GI" accepted.
2023-07-09 18:11:09.416 +02:00 [DBG] Connection id "0HMS0ISDP24GI" started.
2023-07-09 18:11:09.429 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 18:11:09.472 +02:00 [DBG] Connection id "0HMS0ISDP24GH" stopped.
2023-07-09 18:11:09.475 +02:00 [DBG] Connection 0HMS0ISDP24GI established using the following protocol: "Tls13"
2023-07-09 18:11:09.475 +02:00 [DBG] Connection id "0HMS0ISDP24GH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 18:11:09.510 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities?name=Antwerp - -
2023-07-09 18:11:09.524 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 18:11:09.559 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 18:11:09.583 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-07-09 18:11:09.591 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-07-09 18:11:09.594 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:11:09.596 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:11:09.630 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCities(System.String, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 18:11:09.632 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 18:11:09.633 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 18:11:09.635 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 18:11:09.636 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 18:11:09.637 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 18:11:09.638 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 18:11:09.769 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 18:11:09.922 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 18:11:09.932 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-07-09 18:11:09.935 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-07-09 18:11:09.937 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-07-09 18:11:09.938 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-07-09 18:11:09.940 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-07-09 18:11:09.942 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-07-09 18:11:09.945 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 18:11:09.946 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-07-09 18:11:09.947 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:11:09.949 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:11:09.950 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:11:09.951 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 18:11:09.952 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:11:10.634 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 18:11:10.680 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-07-09 18:11:10.951 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 18:11:10.994 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 18:11:11.062 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (65ms).
2023-07-09 18:11:11.074 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 18:11:11.091 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 18:11:11.102 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 18:11:11.123 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 18:11:11.143 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 18:11:11.163 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 18:11:11.165 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 18:11:11.171 +02:00 [DBG] A data reader was disposed.
2023-07-09 18:11:11.180 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 18:11:11.186 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 18:11:11.201 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 18:11:11.209 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 18:11:11.210 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 18:11:11.211 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 18:11:11.213 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 18:11:11.214 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 18:11:11.344 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1700.8581ms
2023-07-09 18:11:11.347 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:11:11.348 +02:00 [DBG] Connection id "0HMS0ISDP24GI" completed keep alive response.
2023-07-09 18:11:11.354 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 18:11:11.361 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities?name=Antwerp - - - 200 246 application/json;+charset=utf-8 1854.8339ms
2023-07-09 18:11:30.859 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-09 18:11:30.952 +02:00 [DBG] Hosting starting
2023-07-09 18:11:31.094 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 029092BE6D95BEEF4BAECB07888D0DD1AC552CC7)
2023-07-09 18:11:31.151 +02:00 [INF] Now listening on: https://localhost:7018
2023-07-09 18:11:31.155 +02:00 [INF] Now listening on: http://localhost:5279
2023-07-09 18:11:31.157 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-07-09 18:11:31.158 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-09 18:11:31.159 +02:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-09 18:11:31.160 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-09 18:11:31.161 +02:00 [INF] Hosting environment: Development
2023-07-09 18:11:31.162 +02:00 [INF] Content root path: C:\education-and-training\CityInfo.API\
2023-07-09 18:11:31.162 +02:00 [DBG] Hosting started
2023-07-09 18:11:35.211 +02:00 [DBG] Connection id "0HMS0ISLF8874" received FIN.
2023-07-09 18:11:35.220 +02:00 [DBG] Connection id "0HMS0ISLF8874" accepted.
2023-07-09 18:11:35.225 +02:00 [DBG] Connection id "0HMS0ISLF8874" started.
2023-07-09 18:11:35.226 +02:00 [DBG] Connection id "0HMS0ISLF8875" accepted.
2023-07-09 18:11:35.228 +02:00 [DBG] Connection id "0HMS0ISLF8875" started.
2023-07-09 18:11:35.241 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-09 18:11:35.290 +02:00 [DBG] Connection id "0HMS0ISLF8874" stopped.
2023-07-09 18:11:35.292 +02:00 [DBG] Connection 0HMS0ISLF8875 established using the following protocol: "Tls13"
2023-07-09 18:11:35.293 +02:00 [DBG] Connection id "0HMS0ISLF8874" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-09 18:11:35.325 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities?name=Antwerp - -
2023-07-09 18:11:35.338 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-09 18:11:35.372 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 18:11:35.397 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-07-09 18:11:35.403 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-07-09 18:11:35.405 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:11:35.407 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:11:35.438 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCities(System.String, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 18:11:35.445 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 18:11:35.446 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 18:11:35.447 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 18:11:35.449 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 18:11:35.450 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 18:11:35.451 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 18:11:35.581 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-09 18:11:35.736 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 18:11:35.746 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-07-09 18:11:35.750 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-07-09 18:11:35.752 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-07-09 18:11:35.754 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-07-09 18:11:35.756 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-07-09 18:11:35.759 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-07-09 18:11:35.762 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 18:11:35.763 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-07-09 18:11:35.764 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:11:35.765 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:11:35.766 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:11:35.767 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 18:11:35.768 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:11:36.465 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 18:11:36.517 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .OrderBy(c => c.Name)'
2023-07-09 18:11:36.813 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 18:11:36.863 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 18:11:36.931 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (64ms).
2023-07-09 18:11:36.945 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 18:11:36.961 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 18:11:36.976 +02:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-07-09 18:11:36.999 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-07-09 18:11:37.018 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 18:11:37.045 +02:00 [DBG] A data reader was disposed.
2023-07-09 18:11:37.052 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 18:11:37.059 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 18:11:37.076 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 18:11:37.080 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 18:11:37.081 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 18:11:37.081 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 18:11:37.082 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 18:11:37.083 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 18:11:37.212 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1757.5347ms
2023-07-09 18:11:37.216 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:11:37.217 +02:00 [DBG] Connection id "0HMS0ISLF8875" completed keep alive response.
2023-07-09 18:11:37.224 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 18:11:37.230 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities?name=Antwerp - - - 200 101 application/json;+charset=utf-8 1907.9828ms
2023-07-09 18:12:28.356 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities?name=Antwerp - -
2023-07-09 18:12:28.359 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 18:12:28.361 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-07-09 18:12:28.362 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-07-09 18:12:28.363 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:12:28.364 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:12:28.365 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCities(System.String, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 18:12:28.366 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 18:12:28.367 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 18:12:28.368 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 18:12:28.369 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 18:12:28.371 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 18:12:28.372 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 18:12:28.379 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 18:12:28.392 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-07-09 18:12:28.393 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-07-09 18:12:28.395 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-07-09 18:12:28.395 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-07-09 18:12:28.396 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-07-09 18:12:28.398 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-07-09 18:12:28.399 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 18:12:28.400 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-07-09 18:12:28.402 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:12:28.403 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:12:28.404 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:12:28.405 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 18:12:28.410 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:12:28.433 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 18:12:28.455 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 18:12:28.457 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 18:12:28.460 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 18:12:28.467 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 18:12:28.468 +02:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-07-09 18:12:28.481 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-07-09 18:12:28.485 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 18:12:28.494 +02:00 [DBG] A data reader was disposed.
2023-07-09 18:12:28.495 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 18:12:28.496 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 18:12:28.498 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 18:12:28.503 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 18:12:28.503 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 18:12:28.514 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 18:12:28.522 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 18:12:28.523 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 18:12:28.535 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 162.9233ms
2023-07-09 18:12:28.543 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:12:28.544 +02:00 [DBG] Connection id "0HMS0ISLF8875" completed keep alive response.
2023-07-09 18:12:28.545 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 18:12:28.548 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities?name=Antwerp - - - 200 101 application/json;+charset=utf-8 191.7242ms
2023-07-09 18:56:30.699 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities?name=The - -
2023-07-09 18:56:30.708 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 18:56:30.708 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-07-09 18:56:30.709 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-07-09 18:56:30.713 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:56:30.716 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:56:30.718 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCities(System.String, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 18:56:30.726 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 18:56:30.727 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 18:56:30.730 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 18:56:30.737 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 18:56:30.740 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 18:56:30.741 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 18:56:30.744 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 18:56:30.746 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-07-09 18:56:30.754 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-07-09 18:56:30.755 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-07-09 18:56:30.757 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-07-09 18:56:30.760 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-07-09 18:56:30.762 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-07-09 18:56:30.779 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 18:56:30.782 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-07-09 18:56:30.788 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:56:30.789 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:56:30.793 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:56:30.795 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 18:56:30.802 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:56:30.841 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 18:56:30.845 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 18:56:30.845 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-09 18:56:30.846 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 18:56:30.848 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 18:56:30.849 +02:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-07-09 18:56:30.852 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-07-09 18:56:30.864 +02:00 [DBG] A data reader was disposed.
2023-07-09 18:56:30.866 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 18:56:30.867 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 18:56:30.868 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 18:56:30.880 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 18:56:30.881 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 18:56:30.882 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 18:56:30.883 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 18:56:30.884 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 18:56:30.895 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 153.3421ms
2023-07-09 18:56:30.896 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:56:30.897 +02:00 [DBG] Connection id "0HMS0ISLF8875" completed keep alive response.
2023-07-09 18:56:30.898 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 18:56:30.902 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities?name=The - - - 200 2 application/json;+charset=utf-8 203.3855ms
2023-07-09 18:56:40.220 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities?searchQuery=the - -
2023-07-09 18:56:40.222 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 18:56:40.224 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-07-09 18:56:40.226 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-07-09 18:56:40.229 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:56:40.230 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:56:40.232 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCities(System.String, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 18:56:40.239 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 18:56:40.252 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 18:56:40.253 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 18:56:40.263 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 18:56:40.264 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 18:56:40.265 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 18:56:40.269 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 18:56:40.276 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-07-09 18:56:40.277 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-07-09 18:56:40.278 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-07-09 18:56:40.280 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-07-09 18:56:40.281 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-07-09 18:56:40.284 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-07-09 18:56:40.292 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-07-09 18:56:40.293 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 18:56:40.294 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-07-09 18:56:40.296 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:56:40.297 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:56:40.300 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:56:40.309 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 18:56:40.310 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:56:40.313 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 18:56:40.316 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-07-09 18:56:40.334 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-07-09 18:56:40.357 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 18:56:40.359 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 18:56:40.362 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 18:56:40.370 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 18:56:40.371 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 18:56:40.374 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 18:56:40.385 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 18:56:40.388 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 18:56:40.389 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 18:56:40.392 +02:00 [DBG] A data reader was disposed.
2023-07-09 18:56:40.400 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 18:56:40.401 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 18:56:40.402 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 18:56:40.404 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 18:56:40.407 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 18:56:40.425 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 18:56:40.433 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 18:56:40.438 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 18:56:40.449 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 183.4189ms
2023-07-09 18:56:40.462 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:56:40.470 +02:00 [DBG] Connection id "0HMS0ISLF8875" completed keep alive response.
2023-07-09 18:56:40.475 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 18:56:40.483 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities?searchQuery=the - - - 200 246 application/json;+charset=utf-8 262.2667ms
2023-07-09 18:57:03.550 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/cities?searchQuery=big - -
2023-07-09 18:57:03.558 +02:00 [DBG] The request path  does not match the path filter
2023-07-09 18:57:03.559 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-07-09 18:57:03.560 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-07-09 18:57:03.562 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:57:03.564 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:57:03.565 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCities(System.String, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-07-09 18:57:03.574 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-09 18:57:03.576 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-09 18:57:03.577 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-09 18:57:03.588 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-09 18:57:03.596 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-09 18:57:03.598 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 18:57:03.605 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-07-09 18:57:03.606 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-07-09 18:57:03.608 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-07-09 18:57:03.609 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-07-09 18:57:03.612 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-07-09 18:57:03.619 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-07-09 18:57:03.621 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-07-09 18:57:03.622 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-07-09 18:57:03.623 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 18:57:03.627 +02:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-07-09 18:57:03.629 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:57:03.636 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:57:03.637 +02:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:57:03.638 +02:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-07-09 18:57:03.640 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-07-09 18:57:03.644 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-07-09 18:57:03.651 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-09 18:57:03.653 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-09 18:57:03.654 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-07-09 18:57:03.655 +02:00 [DBG] Opened connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 18:57:03.656 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 18:57:03.668 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-07-09 18:57:03.682 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 18:57:03.684 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 18:57:03.685 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-09 18:57:03.686 +02:00 [DBG] A data reader was disposed.
2023-07-09 18:57:03.689 +02:00 [DBG] Closing connection to database 'main' on server 'C:\education-and-training\CityInfo.API\CityInfo.db'.
2023-07-09 18:57:03.699 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-07-09 18:57:03.700 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-09 18:57:03.704 +02:00 [DBG] No information found on request to perform content negotiation.
2023-07-09 18:57:03.705 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-09 18:57:03.714 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-09 18:57:03.715 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-09 18:57:03.716 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-09 18:57:03.717 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 119.4669ms
2023-07-09 18:57:03.721 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-07-09 18:57:03.730 +02:00 [DBG] Connection id "0HMS0ISLF8875" completed keep alive response.
2023-07-09 18:57:03.731 +02:00 [DBG] 'CityInfoContext' disposed.
2023-07-09 18:57:03.732 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/cities?searchQuery=big - - - 200 246 application/json;+charset=utf-8 182.2285ms
